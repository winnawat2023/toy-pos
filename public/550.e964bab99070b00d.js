"use strict";(self.webpackChunkangular_material_template=self.webpackChunkangular_material_template||[]).push([[550],{7327:(Y,h,i)=>{i.d(h,{d:()=>e});var d=i(4650),l=i(5197);let e=(()=>{class s{constructor(t){this.db=t,this.dbPath="/restaurants",this.restaurantsRef=t.list(this.dbPath)}getDBPath(){return this.dbPath}setCurrentShop(t){this.currentShop=t}getCurrentShop(){return this.currentShop}getAll(){return this.restaurantsRef}create(t){return this.restaurantsRef.push(t)}update(t){return this.restaurantsRef.update(t.key,t)}delete(t){return this.restaurantsRef.remove(t)}deleteAll(){return this.restaurantsRef.remove()}getShopStatus(t){return t?"\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19":"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a"}}return s.\u0275fac=function(t){return new(t||s)(d.LFG(l.KQ))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},1550:(Y,h,i)=>{i.r(h),i.d(h,{StockModule:()=>B});var d=i(6895),l=i(6159),e=i(6797),s=i(4006),E=i(4004),t=i(4650),f=i(7327),g=i(3560);function Z(r,a){if(1&r&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&r){const o=a.$implicit;t.Q6J("ngValue",o),t.xp6(1),t.Oqu(o.title)}}function v(r,a){if(1&r&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&r){const o=a.$implicit;t.Q6J("ngValue",o),t.xp6(1),t.Oqu(o.title)}}function C(r,a){if(1&r&&(t.TgZ(0,"label",29),t._uU(1),t.qZA()),2&r){const o=t.oxw().$implicit,u=t.oxw(2);t.xp6(1),t.hij(" ",u.shopService.getShopStatus(o.published),"")}}function U(r,a){if(1&r&&(t.TgZ(0,"label",30),t._uU(1),t.qZA()),2&r){const o=t.oxw().$implicit,u=t.oxw(2);t.xp6(1),t.hij(" ",u.shopService.getShopStatus(o.published),"")}}function x(r,a){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&r){const o=t.oxw(3);t.Tol(o.msgClass),t.xp6(1),t.Oqu(o.error)}}function _(r,a){if(1&r){const o=t.EpF();t.TgZ(0,"tr",20)(1,"td",21),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",22),t._UZ(5,"img",23),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td",22),t.YNc(11,C,2,1,"label",24),t.YNc(12,U,2,1,"label",25),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"input",26),t.qZA(),t.TgZ(15,"td"),t.YNc(16,x,2,4,"div",27),t.TgZ(17,"button",28),t.NdJ("click",function(){const n=t.CHM(o),c=n.index,p=n.$implicit,m=t.oxw(2);return t.KtG(m.updateStock(c,p))}),t._uU(18,"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"),t.qZA()()()}if(2&r){const o=a.$implicit,u=a.index,n=t.oxw(2);t.Q6J("formGroupName",u),t.xp6(2),t.Oqu(u+1),t.xp6(3),t.s9C("src",n.getImagePath(o),t.LSH),t.xp6(2),t.Oqu(o.title),t.xp6(2),t.Oqu(o.description),t.xp6(2),t.Q6J("ngIf",o.published),t.xp6(1),t.Q6J("ngIf",!o.published),t.xp6(2),t.s9C("value",o.stock),t.xp6(2),t.Q6J("ngIf",n.error&&u==n.show)}}function k(r,a){if(1&r&&(t.TgZ(0,"tbody",18),t.YNc(1,_,19,9,"tr",19),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.procucts)}}const M=function(){return["/stock/add"]};let A=(()=>{class r{constructor(o,u,n,c){this.shopService=o,this.router=u,this.productService=n,this.fb=c,this.loading=!1,this.show=-1}ngOnInit(){this.tableForm=new s.cw({}),this.tableForm.addControl("stockForm",this.fb.array([])),this.fillterForm=this.fb.group({shop:[],type:[]}),this.refreshShopList()}refreshShopList(){this.retrieveShops()}retrieveShops(){this.shopService.getAll().snapshotChanges().pipe((0,E.U)(o=>o.map(u=>({key:u.payload.key,...u.payload.val()})))).subscribe(o=>{this.shops=o,this.shops&&(this.fillterForm.get("shop").setValue(this.shops[0]),this.retrieveProductType())})}retrieveProductType(){let o=this.fillterForm.get("shop").value;this.productService.getProductType(o).snapshotChanges().pipe((0,E.U)(u=>u.map(n=>({key:n.payload.key,...n.payload.val()})))).subscribe(u=>{this.types=u,console.log(this.types),this.types&&(this.fillterForm.get("type").setValue(this.types[0]),this.refreshProductList())})}refreshProductList(){this.retrieveProduct()}retrieveProduct(){let o=this.fillterForm.get("type").value;this.productService.getAllProductByType(o).snapshotChanges().pipe((0,E.U)(u=>u.map(n=>({key:n.payload.key,...n.payload.val()})))).subscribe(u=>{this.procucts=u,this.tableForm.removeControl("stockForm"),this.tableForm.addControl("stockForm",this.fb.array([])),console.log("tableForm",this.tableForm);const n=this.tableForm.controls.stockForm;console.log("stockForm",n);for(let c of this.procucts){let p=this.fb.group({stock:c.stock});n.push(p)}})}shopChange(){console.log("shopChange",this.fillterForm.get("shop").value),this.retrieveProductType()}typeChange(){console.log("typeChange",this.fillterForm.get("type").value),this.retrieveProduct()}getImagePath(o){return o.image?o.image:"../../../../assets/images/user.png"}updateStock(o,u){this.show=o,setTimeout(()=>{this.show=-1},2e3),this.error="",this.loading=!0,u.stock=this.tableForm.get("stockForm").value[o].stock,this.productService.updateProduct(u),this.loading=!1,this.error="successful",this.msgClass="alert alert-success"}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(f.d),t.Y36(l.F0),t.Y36(g.M),t.Y36(s.qu))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-stock-list"]],decls:44,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"row","g-2"],[1,"col-auto"],[1,"card-title"],["routerLinkActive","active",1,"btn","btn-sm","btn-success",3,"routerLink"],[1,"card-body"],[3,"formGroup"],["type","text","readonly","","id","shop-label","value","\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32",1,"form-control-plaintext"],["name","shop","id","shop","formControlName","shop",1,"form-control",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","readonly","","id","staticEmail2","value","\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",1,"form-control-plaintext"],["name","type","id","type","formControlName","type",1,"form-control",3,"change"],["form","ngForm"],[1,"table","table-striped","table-bordered","table-hover","table-responsive"],["scope","col"],["formArrayName","stockForm",4,"ngIf"],[3,"ngValue"],["formArrayName","stockForm"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["scope","row",1,"text-center"],[1,"text-center"],[1,"rounded",3,"src"],["class","btn btn-sm btn-success",4,"ngIf"],["class","btn btn-sm btn-warning",4,"ngIf"],["type","number","formControlName","stock",1,"form-control",3,"value"],[3,"class",4,"ngIf"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"btn","btn-sm","btn-success"],[1,"btn","btn-sm","btn-warning"]],template:function(o,u){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5,"\u0e04\u0e25\u0e31\u0e07\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"),t.qZA()(),t.TgZ(6,"div",3)(7,"button",5),t._uU(8," \u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e43\u0e1a\u0e2a\u0e31\u0e48\u0e07\u0e0b\u0e37\u0e49\u0e2d "),t.qZA()()()(),t.TgZ(9,"div",6)(10,"form",7)(11,"div",2)(12,"div",3),t._UZ(13,"input",8),t.qZA(),t.TgZ(14,"div",3)(15,"select",9),t.NdJ("change",function(){return u.shopChange()}),t.YNc(16,Z,2,2,"option",10),t.qZA()()(),t.TgZ(17,"div",2)(18,"div",3),t._UZ(19,"input",11),t.qZA(),t.TgZ(20,"div",3)(21,"select",12),t.NdJ("change",function(){return u.typeChange()}),t.YNc(22,v,2,2,"option",10),t.qZA()()()(),t._UZ(23,"br"),t.TgZ(24,"div")(25,"form",7,13)(27,"table",14)(28,"thead")(29,"tr")(30,"th",15),t._uU(31,"\u0e25\u0e33\u0e14\u0e31\u0e1a"),t.qZA(),t.TgZ(32,"th",15),t._uU(33,"\u0e23\u0e39\u0e1b\u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32"),t.qZA(),t.TgZ(34,"th",15),t._uU(35,"\u0e0a\u0e37\u0e48\u0e2d\u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32"),t.qZA(),t.TgZ(36,"th",15),t._uU(37,"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"),t.qZA(),t.TgZ(38,"th",15),t._uU(39,"\u0e2a\u0e16\u0e32\u0e19\u0e30"),t.qZA(),t.TgZ(40,"th",15),t._uU(41,"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d"),t.qZA(),t._UZ(42,"th",15),t.qZA()(),t.YNc(43,k,2,1,"tbody",16),t.qZA()()()()()),2&o&&(t.xp6(7),t.Q6J("routerLink",t.DdM(6,M)),t.xp6(3),t.Q6J("formGroup",u.fillterForm),t.xp6(6),t.Q6J("ngForOf",u.shops),t.xp6(6),t.Q6J("ngForOf",u.types),t.xp6(3),t.Q6J("formGroup",u.tableForm),t.xp6(18),t.Q6J("ngIf",u.procucts))},dependencies:[d.sg,d.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.sg,s.u,s.x0,s.CE,l.rH,l.Od],styles:[".list[_ngcontent-%COMP%]{text-align:left;margin:auto}th[_ngcontent-%COMP%]{text-align:center}img[_ngcontent-%COMP%]{width:100px;height:100px}form[_ngcontent-%COMP%]{max-width:95%;margin:auto}"]}),r})();class O{}var S=i(5197);let P=(()=>{class r{constructor(o){this.db=o,this.dbPath="/receipts",this.receiptRef=o.list(this.dbPath)}setCurrentReceipt(o){this.currentReceipt=o}getCurrentShop(){return this.currentReceipt}getAll(){return this.receiptRef}create(o){return this.receiptRef.push(o)}update(o){return this.receiptRef.update(o.key,o)}delete(o){return this.receiptRef.remove(o.key)}getReceiptStatus(o){return o?"\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19":"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a"}}return r.\u0275fac=function(o){return new(o||r)(t.LFG(S.KQ))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var L=i(263);function q(r,a){if(1&r&&(t.TgZ(0,"option",32),t._uU(1),t.qZA()),2&r){const o=a.$implicit;t.Q6J("ngValue",o),t.xp6(1),t.Oqu(o.title)}}function F(r,a){if(1&r&&(t.TgZ(0,"option",32),t._uU(1),t.qZA()),2&r){const o=a.$implicit;t.Q6J("ngValue",o),t.xp6(1),t.Oqu(o.title)}}function T(r,a){if(1&r&&(t.TgZ(0,"option",32),t._uU(1),t.qZA()),2&r){const o=a.$implicit;t.Q6J("ngValue",o),t.xp6(1),t.Oqu(o.title)}}function D(r,a){if(1&r){const o=t.EpF();t.TgZ(0,"tr")(1,"td",33),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td")(16,"button",34),t.NdJ("click",function(){const c=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.deleteReceipt(c))}),t._uU(17," \u0e25\u0e1a\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23 "),t.qZA()()()}if(2&r){const o=a.$implicit,u=a.index;t.xp6(2),t.Oqu(u+1),t.xp6(2),t.hij("",o.shop.title," "),t.xp6(2),t.Oqu(o.productType.title),t.xp6(2),t.Oqu(o.product.title),t.xp6(2),t.Oqu(o.product.description),t.xp6(2),t.Oqu(o.quantity),t.xp6(2),t.Oqu(o.price)}}const R=[{path:"",component:e.$,children:[{path:"",component:A},{path:"add",component:(()=>{class r{constructor(o,u,n,c,p,m){this.shopService=o,this.router=u,this.stockService=n,this.productService=c,this.fb=p,this.authService=m,this.total=0,this.imageURL="../../../../assets/images/user.png"}ngOnInit(){this.receipts=[],this.receiptForm=this.fb.group({shop:[null,s.kI.required],productType:[null,s.kI.required],product:[null,s.kI.required],quantity:[null,[s.kI.required]],price:[null,[s.kI.required]]}),this.refreshShopList()}refreshShopList(){this.retrieveShops()}retrieveShops(){this.shopService.getAll().snapshotChanges().pipe((0,E.U)(o=>o.map(u=>({key:u.payload.key,...u.payload.val()})))).subscribe(o=>{this.shops=o,this.shops&&(this.receiptForm.get("shop").setValue(this.shops[0]),this.retrieveProductType())})}retrieveProductType(){let o=this.receiptForm.get("shop").value;this.productService.getProductType(o).snapshotChanges().pipe((0,E.U)(u=>u.map(n=>({key:n.payload.key,...n.payload.val()})))).subscribe(u=>{this.types=u,console.log(this.types),this.types&&(this.receiptForm.get("productType").setValue(this.types[0]),this.refreshProductList())})}refreshProductList(){this.retrieveProduct()}retrieveProduct(){let o=this.receiptForm.get("productType").value;this.productService.getAllProductByType(o).snapshotChanges().pipe((0,E.U)(u=>u.map(n=>({key:n.payload.key,...n.payload.val()})))).subscribe(u=>{this.products=u,console.log(this.products)})}shopChange(){console.log("shopChange",this.receiptForm.get("shop").value),this.retrieveProductType()}typeChange(){console.log("typeChange",this.receiptForm.get("type").value),this.retrieveProduct()}getImagePath(o){return o.image?o.image:"../../../../assets/images/user.png"}save(){let o=new O;o.createBy=this.authService.getCurrentUser(),o.createTime=new Date,o.image=this.imageURL,o.receipts=this.receipts,o.total=this.total,o.updateBy=this.authService.getCurrentUser(),o.updateTime=o.createTime,console.log(o),this.stockService.create(o).then(()=>{for(let u of o.receipts)this.productService.updateStock(u.product.key,{stock:u.product.stock+u.quantity});this.getBack()}).catch(u=>console.log(u))}getBack(){this.router.navigate(["/stock"])}addReceipt(){let o=this.receiptForm.value;this.receipts.push(o),this.total=this.total+o.price,this.reset()}reset(){this.receiptForm.get("product").setValue(null),this.receiptForm.get("quantity").setValue(null),this.receiptForm.get("price").setValue(null)}selectFile(o){this.selectedFiles=o.target.files;const u=this.selectedFiles.item(0),n=new FileReader;n.onload=c=>{this.imageURL=c.target.result},n.readAsDataURL(u)}deleteReceipt(o){const u=this.receipts.indexOf(o);this.receipts.splice(u,1),this.total=this.total-o.price}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(f.d),t.Y36(l.F0),t.Y36(P),t.Y36(g.M),t.Y36(s.qu),t.Y36(L.$))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-stock-add"]],decls:77,vars:9,consts:[[1,"card"],[1,"card-header"],[1,"row","g-2"],[1,"col-auto"],[1,"card-title"],[1,"card-body"],[3,"formGroup"],[1,"form-group"],["for","description"],[1,"text-left"],[1,"rounded",3,"src"],["type","file",1,"text-nowrap","text-truncate",3,"change"],["type","text","readonly","","id","product","value","\u0e23\u0e32\u0e04\u0e32\u0e23\u0e27\u0e21",1,"form-control-plaintext"],["type","number","id","total","value","total",1,"form-control",3,"value"],["type","text","readonly","","id","shop-label","value","\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32",1,"form-control-plaintext"],["name","shop","id","shop","formControlName","shop",1,"form-control",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","readonly","","id","type","value","\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",1,"form-control-plaintext"],["name","type","id","type","formControlName","productType",1,"form-control",3,"change"],["type","text","readonly","","id","product","value","\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",1,"form-control-plaintext"],["name","type","id","type","formControlName","product",1,"form-control"],["type","text","readonly","","id","product","value","\u0e08\u0e33\u0e19\u0e27\u0e19",1,"form-control-plaintext"],["type","number","id","quantity","formControlName","quantity",1,"form-control"],["type","text","readonly","","id","product","value","\u0e23\u0e32\u0e04\u0e32",1,"form-control-plaintext"],["type","number","id","price","formControlName","price",1,"form-control"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"table","table-striped","table-bordered","table-hover","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],[1,"card-footer","text-muted"],[1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"ngValue"],["scope","row",1,"text-center"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(o,u){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5,"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e43\u0e1a\u0e2a\u0e31\u0e48\u0e07\u0e0b\u0e37\u0e49\u0e2d"),t.qZA()()()(),t.TgZ(6,"div",5)(7,"form",6)(8,"div",2)(9,"div",7)(10,"label",8),t._uU(11,"\u0e23\u0e39\u0e1b\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"),t.qZA(),t.TgZ(12,"div",9),t._UZ(13,"img",10),t.qZA(),t.TgZ(14,"input",11),t.NdJ("change",function(c){return u.selectFile(c)}),t.qZA()()(),t.TgZ(15,"div",2)(16,"div",3),t._UZ(17,"input",12),t.qZA(),t.TgZ(18,"div",3),t._UZ(19,"input",13),t.qZA()(),t.TgZ(20,"div",2)(21,"div",3),t._UZ(22,"input",14),t.qZA(),t.TgZ(23,"div",3)(24,"select",15),t.NdJ("change",function(){return u.shopChange()}),t.YNc(25,q,2,2,"option",16),t.qZA()()(),t.TgZ(26,"div",2)(27,"div",3),t._UZ(28,"input",17),t.qZA(),t.TgZ(29,"div",3)(30,"select",18),t.NdJ("change",function(){return u.typeChange()}),t.YNc(31,F,2,2,"option",16),t.qZA()()(),t.TgZ(32,"div",2)(33,"div",3),t._UZ(34,"input",19),t.qZA(),t.TgZ(35,"div",3)(36,"select",20),t.YNc(37,T,2,2,"option",16),t.qZA()()(),t.TgZ(38,"div",2)(39,"div",3),t._UZ(40,"input",21),t.qZA(),t.TgZ(41,"div",3),t._UZ(42,"input",22),t.qZA()(),t.TgZ(43,"div",2)(44,"div",3),t._UZ(45,"input",23),t.qZA(),t.TgZ(46,"div",3),t._UZ(47,"input",24),t.qZA(),t.TgZ(48,"div",3)(49,"button",25),t.NdJ("click",function(){return u.addReceipt()}),t._uU(50," \u0e40\u0e1e\u0e34\u0e48\u0e21\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23 "),t.qZA()()()(),t._UZ(51,"br"),t.TgZ(52,"div")(53,"table",26)(54,"thead")(55,"tr")(56,"th",27),t._uU(57,"\u0e25\u0e33\u0e14\u0e31\u0e1a"),t.qZA(),t.TgZ(58,"th",27),t._uU(59,"\u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32"),t.qZA(),t.TgZ(60,"th",27),t._uU(61,"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"),t.qZA(),t.TgZ(62,"th",27),t._uU(63,"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"),t.qZA(),t.TgZ(64,"th",27),t._uU(65,"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"),t.qZA(),t.TgZ(66,"th",27),t._uU(67,"\u0e08\u0e33\u0e19\u0e27\u0e19"),t.qZA(),t.TgZ(68,"th",27),t._uU(69,"\u0e23\u0e32\u0e04\u0e32"),t.qZA()()(),t.TgZ(70,"tbody"),t.YNc(71,D,18,7,"tr",28),t.qZA()()()(),t.TgZ(72,"div",29)(73,"button",30),t.NdJ("click",function(){return u.getBack()}),t._uU(74," \u0e01\u0e25\u0e31\u0e1a "),t.qZA(),t.TgZ(75,"button",31),t.NdJ("click",function(){return u.save()}),t._uU(76," \u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01 "),t.qZA()()()),2&o&&(t.xp6(7),t.Q6J("formGroup",u.receiptForm),t.xp6(6),t.s9C("src",u.imageURL,t.LSH),t.xp6(6),t.s9C("value",u.total),t.xp6(6),t.Q6J("ngForOf",u.shops),t.xp6(6),t.Q6J("ngForOf",u.types),t.xp6(6),t.Q6J("ngForOf",u.products),t.xp6(12),t.Q6J("disabled",!u.receiptForm.valid),t.xp6(22),t.Q6J("ngForOf",u.receipts),t.xp6(4),t.Q6J("disabled",0==u.receipts.length||"../../../../assets/images/user.png"==u.imageURL))},dependencies:[d.sg,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.sg,s.u],styles:["form[_ngcontent-%COMP%]{max-width:95%;margin:auto}img[_ngcontent-%COMP%]{width:300px;height:300px}button[_ngcontent-%COMP%]{margin:5px}.row[_ngcontent-%COMP%]{margin:1px}"]}),r})()},{path:"list",component:A}]}];let Q=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[l.Bz.forChild(R),l.Bz]}),r})();var I=i(3927);let B=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[d.ez,I.m,Q]}),r})()},6797:(Y,h,i)=>{i.d(h,{$:()=>o});var d=i(5963),l=i(727),e=i(4650),s=i(2289),E=i(4649),t=i(263),f=i(7574),g=i(6159),Z=i(6895),v=i(3267),C=i(7392),U=i(3683),x=i(4859),_=i(6338),k=i(3238),M=i(4850),A=i(3162),y=i(8255),O=i(266),S=i(2673),P=i(5829);function L(u,n){1&u&&e._UZ(0,"mat-progress-bar",24)}const q=function(){return["/"]},F=function(){return["/account/profile"]},T=function(){return["/auth/login"]},D=function(){return["/accounts/accounts-daily"]},J=function(){return["/rent"]},R=function(){return["/report/inout-weekly"]},Q=function(){return["/accounts/expense"]},I=function(){return["/lots"]},B=function(){return["/shop"]},r=function(){return["/product/type/list"]},a=function(){return["/product"]};let o=(()=>{class u{constructor(c,p,m,b,N){this.changeDetectorRef=c,this.media=p,this.spinnerService=m,this.authService=b,this.authGuard=N,this.showSpinner=!1,this.userName="",this.isAdmin=!1,this.autoLogoutSubscription=new l.w0,this.mobileQuery=this.media.matchMedia("(max-width: 1000px)"),this._mobileQueryListener=()=>c.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){const c=this.authService.getCurrentUser();this.isAdmin=!0,this.userName=c.displayName;const p=(0,d.H)(2e3,5e3);this.autoLogoutSubscription=p.subscribe(()=>{this.authGuard.canActivate()})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener),this.autoLogoutSubscription.unsubscribe()}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}}return u.\u0275fac=function(c){return new(c||u)(e.Y36(e.sBO),e.Y36(s.vx),e.Y36(E.V),e.Y36(t.$),e.Y36(f.a))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-layout"]],decls:93,vars:37,consts:[[1,"navbar-container"],["color","primary",1,"navbar"],["mat-icon-button","",3,"click"],["matTooltip","Home",1,"navbar-brand",3,"routerLink"],[1,"navbar-spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["matBadge","","matBadgeColor","accent"],["xPosition","before","yPosition","above",3,"overlapTrigger"],["notificationMenu","matMenu"],["mat-button","",3,"matMenuTriggerFor"],["fxShow","","fxHide.xs",""],["userMenu","matMenu"],["mat-menu-item","",3,"routerLink"],[1,"navbar-sidenav-container"],["fixedTopGap","56",1,"sidenav",3,"opened","mode","fixedInViewport"],["snav",""],["mat-subheader",""],["mat-list-item","","routerLinkActive","active",3,"routerLink"],["mat-list-icon",""],["mat-line",""],["id","push-bottom","mat-list-item","","routerLinkActive","active",3,"routerLink"],[1,"sidenav-content"],[1,"progress-bar-container"],["color","accent","mode","indeterminate",4,"ngIf"],["color","accent","mode","indeterminate"]],template:function(c,p){if(1&c){const m=e.EpF();e.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),e.NdJ("click",function(){e.CHM(m);const N=e.MAs(33);return e.KtG(N.toggle())}),e.TgZ(3,"mat-icon"),e._uU(4,"menu"),e.qZA()(),e.TgZ(5,"a",3)(6,"h1"),e._uU(7," Ratchadakarn Food Court "),e.qZA()(),e._UZ(8,"span",4),e.TgZ(9,"button",5)(10,"mat-icon",6),e._uU(11,"notifications"),e.qZA()(),e._UZ(12,"mat-menu",7,8),e.TgZ(14,"button",9)(15,"mat-icon"),e._uU(16,"person"),e.qZA(),e.TgZ(17,"span",10),e._uU(18),e.qZA()(),e.TgZ(19,"mat-menu",7,11)(21,"a",12)(22,"mat-icon"),e._uU(23,"person"),e.qZA(),e.TgZ(24,"span"),e._uU(25,"Account"),e.qZA()(),e.TgZ(26,"a",12)(27,"mat-icon"),e._uU(28,"exit_to_app"),e.qZA(),e.TgZ(29,"span"),e._uU(30,"Log out"),e.qZA()()()(),e.TgZ(31,"mat-sidenav-container",13)(32,"mat-sidenav",14,15)(34,"mat-nav-list")(35,"h3",16),e._uU(36,"Home"),e.qZA(),e.TgZ(37,"a",17)(38,"mat-icon",18),e._uU(39," dvr "),e.qZA(),e.TgZ(40,"p",19),e._uU(41,"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e23\u0e32\u0e22\u0e27\u0e31\u0e19 "),e.qZA()(),e.TgZ(42,"a",17)(43,"mat-icon",18),e._uU(44," dvr "),e.qZA(),e.TgZ(45,"p",19),e._uU(46,"\u0e04\u0e48\u0e32\u0e40\u0e0a\u0e48\u0e32 "),e.qZA()(),e.TgZ(47,"mat-nav-list")(48,"h3",16),e._uU(49,"Report"),e.qZA(),e.TgZ(50,"a",17)(51,"mat-icon",18),e._uU(52," dvr "),e.qZA(),e.TgZ(53,"p",19),e._uU(54,"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14\u0e23\u0e31\u0e1a\u0e08\u0e48\u0e32\u0e22 "),e.qZA()()(),e._UZ(55,"mat-divider"),e.TgZ(56,"h3",16),e._uU(57,"Setting"),e.qZA(),e.TgZ(58,"a",17)(59,"mat-icon",18),e._uU(60," toc "),e.qZA(),e.TgZ(61,"p",19),e._uU(62," \u0e04\u0e48\u0e32\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22 "),e.qZA()(),e.TgZ(63,"a",17)(64,"mat-icon",18),e._uU(65," build "),e.qZA(),e.TgZ(66,"p",19),e._uU(67,"\u0e25\u0e47\u0e2d\u0e04\u0e43\u0e2b\u0e49\u0e40\u0e0a\u0e48\u0e32"),e.qZA()(),e.TgZ(68,"a",17)(69,"mat-icon",18),e._uU(70," restaurant "),e.qZA(),e.TgZ(71,"p",19),e._uU(72," \u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32 "),e.qZA()(),e.TgZ(73,"a",17)(74,"mat-icon",18),e._uU(75," source "),e.qZA(),e.TgZ(76,"p",19),e._uU(77," \u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 "),e.qZA()(),e.TgZ(78,"a",17)(79,"mat-icon",18),e._uU(80," kitchen "),e.qZA(),e.TgZ(81,"p",19),e._uU(82," \u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 "),e.qZA()(),e.TgZ(83,"a",20)(84,"mat-icon",18),e._uU(85," exit_to_app "),e.qZA(),e.TgZ(86,"p",19),e._uU(87," \u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a "),e.qZA()()()(),e.TgZ(88,"mat-sidenav-content",21)(89,"div",22),e.YNc(90,L,1,0,"mat-progress-bar",23),e.ALo(91,"async"),e.qZA(),e._UZ(92,"router-outlet"),e.qZA()()()}if(2&c){const m=e.MAs(13),b=e.MAs(20);e.ekj("example-is-mobile",p.mobileQuery.matches),e.xp6(5),e.Q6J("routerLink",e.DdM(25,q)),e.xp6(4),e.Q6J("matMenuTriggerFor",m),e.xp6(3),e.Q6J("overlapTrigger",!1),e.xp6(2),e.Q6J("matMenuTriggerFor",b),e.xp6(4),e.hij(" ",p.userName," "),e.xp6(1),e.Q6J("overlapTrigger",!1),e.xp6(2),e.Q6J("routerLink",e.DdM(26,F)),e.xp6(5),e.Q6J("routerLink",e.DdM(27,T)),e.xp6(6),e.Q6J("opened",!p.mobileQuery.matches)("mode",p.mobileQuery.matches?"over":"side")("fixedInViewport",p.mobileQuery.matches),e.xp6(5),e.Q6J("routerLink",e.DdM(28,D)),e.xp6(5),e.Q6J("routerLink",e.DdM(29,J)),e.xp6(8),e.Q6J("routerLink",e.DdM(30,R)),e.xp6(8),e.Q6J("routerLink",e.DdM(31,Q)),e.xp6(5),e.Q6J("routerLink",e.DdM(32,I)),e.xp6(5),e.Q6J("routerLink",e.DdM(33,B)),e.xp6(5),e.Q6J("routerLink",e.DdM(34,r)),e.xp6(5),e.Q6J("routerLink",e.DdM(35,a)),e.xp6(5),e.Q6J("routerLink",e.DdM(36,T)),e.xp6(7),e.Q6J("ngIf",e.lcZ(91,23,p.spinnerService.visibility))}},dependencies:[g.lC,g.yS,g.Od,Z.O5,v.JX,v.TM,v.Rh,C.Hw,U.Ye,x.lW,_.Hk,_.Tg,k.X2,_.Nh,_.gs,M.d,A.pW,y.VK,y.OP,y.p6,O.gM,S.k,P.b8,Z.Ov],styles:[".navbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.navbar[_ngcontent-%COMP%]{z-index:2}.navbar-brand[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.navbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.navbar-is-mobile[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{position:fixed;z-index:2}.navbar-sidenav-container[_ngcontent-%COMP%]{flex:1}.navbar-is-mobile[_ngcontent-%COMP%]   .navbar-sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}mat-sidenav[_ngcontent-%COMP%]{min-width:180px!important;border-right:1px solid #eee;box-shadow:6px 0 6px #0000001a}.progress-bar-container[_ngcontent-%COMP%]{height:5px}a.mat-list-item.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}#push-bottom[_ngcontent-%COMP%]{position:absolute;bottom:0}"]}),u})()}}]);