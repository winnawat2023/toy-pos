"use strict";(self.webpackChunkangular_material_template=self.webpackChunkangular_material_template||[]).push([[744],{2775:(I,C,u)=>{u.r(C),u.d(C,{CustomersModule:()=>P});var A=u(6895),E=u(6159),t=u(6797),f=u(4004),e=u(4650),b=u(8015),T=u(1645),d=u(1481),_=u(1173);const p=function(){return["/customers/detail"]};function M(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",10),e.NdJ("click",function(){const v=e.CHM(o).$implicit,k=e.oxw();return e.KtG(k.setActiveCustomer(v))}),e._uU(9," \u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14 "),e.qZA()()()}if(2&n){const o=a.$implicit,r=a.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.hij(" ",o.name,""),e.xp6(2),e.hij(" ",o.mobile,""),e.xp6(2),e.Q6J("routerLink",e.DdM(4,p))}}const U=function(){return["/customers/add"]};let D=(()=>{class n{constructor(o,r,s,v){this.logger=o,this.notificationService=r,this.titleService=s,this.customerService=v}ngOnInit(){this.titleService.setTitle("Toy Cafe & Wine - Customers"),this.logger.log("Customers loaded"),this.notificationService.openSnackBar("Customers loaded"),this.retrieveCustomer()}setActiveCustomer(o){this.customerService.currentCustomer=o}refreshList(){this.retrieveCustomer()}retrieveCustomer(){this.customerService.getAll().snapshotChanges().pipe((0,f.U)(o=>o.map(r=>({key:r.payload.key,...r.payload.val()})))).subscribe(o=>{console.log("customers",o),this.customers=o})}setActiveShop(o){this.customerService.currentCustomer=o}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(b.Kf),e.Y36(T.g),e.Y36(d.Dx),e.Y36(_.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-customer-list"]],decls:22,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"row","g-2"],[1,"col-auto"],[1,"card-title"],["routerLinkActive","active",1,"btn","btn-sm","btn-success",3,"routerLink"],[1,"card-body"],[1,"table","table-striped","table-bordered","table-hover","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],["routerLinkActive","active",1,"btn","btn-sm","btn-primary",3,"routerLink","click"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"),e.qZA()(),e.TgZ(6,"div",3)(7,"button",5),e._uU(8," \u0e40\u0e1e\u0e34\u0e48\u0e21 "),e.qZA()()()(),e.TgZ(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th",8),e._uU(14,"\u0e25\u0e33\u0e14\u0e31\u0e1a"),e.qZA(),e.TgZ(15,"th",8),e._uU(16,"\u0e0a\u0e37\u0e48\u0e2d\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"),e.qZA(),e.TgZ(17,"th",8),e._uU(18,"\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c"),e.qZA(),e._UZ(19,"th",8),e.qZA()(),e.TgZ(20,"tbody"),e.YNc(21,M,10,5,"tr",9),e.qZA()()()()),2&o&&(e.xp6(7),e.Q6J("routerLink",e.DdM(2,U)),e.xp6(14),e.Q6J("ngForOf",r.customers))},dependencies:[A.sg,E.rH,E.Od],styles:[".list[_ngcontent-%COMP%]{text-align:left;margin:auto}th[_ngcontent-%COMP%]{text-align:center}img[_ngcontent-%COMP%]{width:100px;height:100px}form[_ngcontent-%COMP%]{max-width:95%;margin:auto}"]}),n})();var i=u(4006);const x=[{path:"",component:t.$,children:[{path:"",component:D},{path:"add",component:(()=>{class n{constructor(o,r,s){this.customerService=o,this.router=r,this.fb=s}ngOnInit(){this.customerForm=this.fb.group({name:[null,[i.kI.required,i.kI.minLength(3)]],mobile:[""]})}save(){let o=this.customerForm.value;this.customerService.create(o).then(()=>{console.log("create customer successfully! ",o),this.goBack()})}goBack(){this.router.navigate(["/customers"])}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(_.v),e.Y36(E.F0),e.Y36(i.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-customer-add"]],decls:18,vars:1,consts:[[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],["for","title"],["type","text","id","name","formControlName","name","name","name",1,"form-control"],["for","description"],["type","text","id","mobile","formControlName","mobile","name","mobile",1,"form-control"],[1,"card-footer","text-muted"],[1,"btn","btn-warning",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"form",0)(1,"div",1)(2,"h5",2),e._uU(3,"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"\u0e0a\u0e37\u0e48\u0e2d"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",4)(10,"label",7),e._uU(11,"\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c"),e.qZA(),e._UZ(12,"input",8),e.qZA()(),e.TgZ(13,"div",9)(14,"button",10),e.NdJ("click",function(){return r.goBack()}),e._uU(15," \u0e01\u0e25\u0e31\u0e1a "),e.qZA(),e.TgZ(16,"button",11),e.NdJ("click",function(){return r.save()}),e._uU(17," \u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01 "),e.qZA()()()()),2&o&&e.Q6J("formGroup",r.customerForm)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:["form[_ngcontent-%COMP%]{max-width:95%;margin:auto}img[_ngcontent-%COMP%]{width:200px;height:200px}button[_ngcontent-%COMP%]{margin:5px}"]}),n})()},{path:"detail",component:(()=>{class n{constructor(o,r,s){this.customerService=o,this.router=r,this.fb=s}ngOnInit(){this.customerForm=this.fb.group({key:[null,i.kI.required],name:[null,i.kI.required],mobile:[""]}),this.customerService.currentCustomer?(this.currentCustomer=this.customerService.currentCustomer,this.customerForm.get("key").setValue(this.currentCustomer.key),this.customerForm.get("name").setValue(this.currentCustomer.name),this.customerForm.get("mobile").setValue(this.currentCustomer.mobile)):this.back()}back(){this.router.navigate(["/customers"])}delete(){this.customerService.delete(this.currentCustomer),this.back()}save(){this.customerService.update(this.customerForm.value),this.back()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(_.v),e.Y36(E.F0),e.Y36(i.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-customer-detail"]],decls:20,vars:1,consts:[[3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","name","name",1,"form-control"],["for","mobile"],["type","text","id","mobile","formControlName","mobile","name","mobile",1,"form-control"],[1,"card-footer","text-muted"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"form",0)(1,"div",1)(2,"h5",2),e._uU(3,"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"\u0e0a\u0e37\u0e48\u0e2d"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",4)(10,"label",7),e._uU(11,"\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c"),e.qZA(),e._UZ(12,"input",8),e.qZA()(),e.TgZ(13,"div",9)(14,"button",10),e.NdJ("click",function(){return r.delete()}),e._uU(15," \u0e25\u0e1a "),e.qZA(),e.TgZ(16,"button",11),e.NdJ("click",function(){return r.back()}),e._uU(17," \u0e01\u0e25\u0e31\u0e1a "),e.qZA(),e.TgZ(18,"button",12),e.NdJ("click",function(){return r.save()}),e._uU(19," \u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01 "),e.qZA()()()()),2&o&&e.Q6J("formGroup",r.customerForm)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]}),n})()}]}];let g=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[E.Bz.forChild(x),E.Bz]}),n})();var y=u(3927);let P=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[A.ez,g,y.m]}),n})()},6797:(I,C,u)=>{u.d(C,{$:()=>W});var A=u(5963),E=u(727),t=u(4650),f=u(2289),e=u(4649),b=u(263),T=u(7574),d=u(6159),_=u(6895),p=u(3267),M=u(7392),U=u(3683),D=u(4859),i=u(6338),O=u(3238),L=u(4850),x=u(3162),g=u(8255),y=u(266),P=u(2673),n=u(5829);function a(l,J){1&l&&t._UZ(0,"mat-progress-bar",24)}const o=function(){return["/"]},r=function(){return["/account/profile"]},s=function(){return["/auth/login"]},v=function(){return["/accounts/accounts-daily"]},k=function(){return["/rent"]},Q=function(){return["/report/inout-weekly"]},q=function(){return["/accounts/expense"]},S=function(){return["/lots"]},F=function(){return["/shop"]},R=function(){return["/product/type/list"]},K=function(){return["/product"]};let W=(()=>{class l{constructor(m,c,h,Z,B){this.changeDetectorRef=m,this.media=c,this.spinnerService=h,this.authService=Z,this.authGuard=B,this.showSpinner=!1,this.userName="",this.isAdmin=!1,this.autoLogoutSubscription=new E.w0,this.mobileQuery=this.media.matchMedia("(max-width: 1000px)"),this._mobileQueryListener=()=>m.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){const m=this.authService.getCurrentUser();this.isAdmin=!0,this.userName=m.displayName;const c=(0,A.H)(2e3,5e3);this.autoLogoutSubscription=c.subscribe(()=>{this.authGuard.canActivate()})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener),this.autoLogoutSubscription.unsubscribe()}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}}return l.\u0275fac=function(m){return new(m||l)(t.Y36(t.sBO),t.Y36(f.vx),t.Y36(e.V),t.Y36(b.$),t.Y36(T.a))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-layout"]],decls:93,vars:37,consts:[[1,"navbar-container"],["color","primary",1,"navbar"],["mat-icon-button","",3,"click"],["matTooltip","Home",1,"navbar-brand",3,"routerLink"],[1,"navbar-spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["matBadge","","matBadgeColor","accent"],["xPosition","before","yPosition","above",3,"overlapTrigger"],["notificationMenu","matMenu"],["mat-button","",3,"matMenuTriggerFor"],["fxShow","","fxHide.xs",""],["userMenu","matMenu"],["mat-menu-item","",3,"routerLink"],[1,"navbar-sidenav-container"],["fixedTopGap","56",1,"sidenav",3,"opened","mode","fixedInViewport"],["snav",""],["mat-subheader",""],["mat-list-item","","routerLinkActive","active",3,"routerLink"],["mat-list-icon",""],["mat-line",""],["id","push-bottom","mat-list-item","","routerLinkActive","active",3,"routerLink"],[1,"sidenav-content"],[1,"progress-bar-container"],["color","accent","mode","indeterminate",4,"ngIf"],["color","accent","mode","indeterminate"]],template:function(m,c){if(1&m){const h=t.EpF();t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),t.NdJ("click",function(){t.CHM(h);const B=t.MAs(33);return t.KtG(B.toggle())}),t.TgZ(3,"mat-icon"),t._uU(4,"menu"),t.qZA()(),t.TgZ(5,"a",3)(6,"h1"),t._uU(7," Ratchadakarn Food Court "),t.qZA()(),t._UZ(8,"span",4),t.TgZ(9,"button",5)(10,"mat-icon",6),t._uU(11,"notifications"),t.qZA()(),t._UZ(12,"mat-menu",7,8),t.TgZ(14,"button",9)(15,"mat-icon"),t._uU(16,"person"),t.qZA(),t.TgZ(17,"span",10),t._uU(18),t.qZA()(),t.TgZ(19,"mat-menu",7,11)(21,"a",12)(22,"mat-icon"),t._uU(23,"person"),t.qZA(),t.TgZ(24,"span"),t._uU(25,"Account"),t.qZA()(),t.TgZ(26,"a",12)(27,"mat-icon"),t._uU(28,"exit_to_app"),t.qZA(),t.TgZ(29,"span"),t._uU(30,"Log out"),t.qZA()()()(),t.TgZ(31,"mat-sidenav-container",13)(32,"mat-sidenav",14,15)(34,"mat-nav-list")(35,"h3",16),t._uU(36,"Home"),t.qZA(),t.TgZ(37,"a",17)(38,"mat-icon",18),t._uU(39," dvr "),t.qZA(),t.TgZ(40,"p",19),t._uU(41,"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e23\u0e32\u0e22\u0e27\u0e31\u0e19 "),t.qZA()(),t.TgZ(42,"a",17)(43,"mat-icon",18),t._uU(44," dvr "),t.qZA(),t.TgZ(45,"p",19),t._uU(46,"\u0e04\u0e48\u0e32\u0e40\u0e0a\u0e48\u0e32 "),t.qZA()(),t.TgZ(47,"mat-nav-list")(48,"h3",16),t._uU(49,"Report"),t.qZA(),t.TgZ(50,"a",17)(51,"mat-icon",18),t._uU(52," dvr "),t.qZA(),t.TgZ(53,"p",19),t._uU(54,"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14\u0e23\u0e31\u0e1a\u0e08\u0e48\u0e32\u0e22 "),t.qZA()()(),t._UZ(55,"mat-divider"),t.TgZ(56,"h3",16),t._uU(57,"Setting"),t.qZA(),t.TgZ(58,"a",17)(59,"mat-icon",18),t._uU(60," toc "),t.qZA(),t.TgZ(61,"p",19),t._uU(62," \u0e04\u0e48\u0e32\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22 "),t.qZA()(),t.TgZ(63,"a",17)(64,"mat-icon",18),t._uU(65," build "),t.qZA(),t.TgZ(66,"p",19),t._uU(67,"\u0e25\u0e47\u0e2d\u0e04\u0e43\u0e2b\u0e49\u0e40\u0e0a\u0e48\u0e32"),t.qZA()(),t.TgZ(68,"a",17)(69,"mat-icon",18),t._uU(70," restaurant "),t.qZA(),t.TgZ(71,"p",19),t._uU(72," \u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32 "),t.qZA()(),t.TgZ(73,"a",17)(74,"mat-icon",18),t._uU(75," source "),t.qZA(),t.TgZ(76,"p",19),t._uU(77," \u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 "),t.qZA()(),t.TgZ(78,"a",17)(79,"mat-icon",18),t._uU(80," kitchen "),t.qZA(),t.TgZ(81,"p",19),t._uU(82," \u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 "),t.qZA()(),t.TgZ(83,"a",20)(84,"mat-icon",18),t._uU(85," exit_to_app "),t.qZA(),t.TgZ(86,"p",19),t._uU(87," \u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a "),t.qZA()()()(),t.TgZ(88,"mat-sidenav-content",21)(89,"div",22),t.YNc(90,a,1,0,"mat-progress-bar",23),t.ALo(91,"async"),t.qZA(),t._UZ(92,"router-outlet"),t.qZA()()()}if(2&m){const h=t.MAs(13),Z=t.MAs(20);t.ekj("example-is-mobile",c.mobileQuery.matches),t.xp6(5),t.Q6J("routerLink",t.DdM(25,o)),t.xp6(4),t.Q6J("matMenuTriggerFor",h),t.xp6(3),t.Q6J("overlapTrigger",!1),t.xp6(2),t.Q6J("matMenuTriggerFor",Z),t.xp6(4),t.hij(" ",c.userName," "),t.xp6(1),t.Q6J("overlapTrigger",!1),t.xp6(2),t.Q6J("routerLink",t.DdM(26,r)),t.xp6(5),t.Q6J("routerLink",t.DdM(27,s)),t.xp6(6),t.Q6J("opened",!c.mobileQuery.matches)("mode",c.mobileQuery.matches?"over":"side")("fixedInViewport",c.mobileQuery.matches),t.xp6(5),t.Q6J("routerLink",t.DdM(28,v)),t.xp6(5),t.Q6J("routerLink",t.DdM(29,k)),t.xp6(8),t.Q6J("routerLink",t.DdM(30,Q)),t.xp6(8),t.Q6J("routerLink",t.DdM(31,q)),t.xp6(5),t.Q6J("routerLink",t.DdM(32,S)),t.xp6(5),t.Q6J("routerLink",t.DdM(33,F)),t.xp6(5),t.Q6J("routerLink",t.DdM(34,R)),t.xp6(5),t.Q6J("routerLink",t.DdM(35,K)),t.xp6(5),t.Q6J("routerLink",t.DdM(36,s)),t.xp6(7),t.Q6J("ngIf",t.lcZ(91,23,c.spinnerService.visibility))}},dependencies:[d.lC,d.yS,d.Od,_.O5,p.JX,p.TM,p.Rh,M.Hw,U.Ye,D.lW,i.Hk,i.Tg,O.X2,i.Nh,i.gs,L.d,x.pW,g.VK,g.OP,g.p6,y.gM,P.k,n.b8,_.Ov],styles:[".navbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.navbar[_ngcontent-%COMP%]{z-index:2}.navbar-brand[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.navbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.navbar-is-mobile[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{position:fixed;z-index:2}.navbar-sidenav-container[_ngcontent-%COMP%]{flex:1}.navbar-is-mobile[_ngcontent-%COMP%]   .navbar-sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}mat-sidenav[_ngcontent-%COMP%]{min-width:180px!important;border-right:1px solid #eee;box-shadow:6px 0 6px #0000001a}.progress-bar-container[_ngcontent-%COMP%]{height:5px}a.mat-list-item.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}#push-bottom[_ngcontent-%COMP%]{position:absolute;bottom:0}"]}),l})()}}]);