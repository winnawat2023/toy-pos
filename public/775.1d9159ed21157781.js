"use strict";(self.webpackChunkangular_material_template=self.webpackChunkangular_material_template||[]).push([[775],{775:(K,v,n)=>{n.r(v),n.d(v,{AccountModule:()=>R});var P=n(6895),Z=n(6159),t=n(6797),e=n(4650),M=n(1481),l=n(1576),C=n(3546),p=n(3848),s=n(4006),g=n(263),x=n(8015),w=n(4649),U=n(1645),_=n(7392),y=n(4859),h=n(9549),O=n(4144);function f(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a your current password "),e.qZA())}function L(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a new password "),e.qZA())}function b(o,i){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please confirm your new password "),e.qZA())}let D=(()=>{class o{constructor(r,a,m,S){this.authService=r,this.logger=a,this.spinnerService=m,this.notificationService=S,this.hideCurrentPassword=!0,this.hideNewPassword=!0}ngOnInit(){this.form=new s.nJ({currentPassword:new s.p4("",s.kI.required),newPassword:new s.p4("",s.kI.required),newPasswordConfirm:new s.p4("",s.kI.required)}),this.form.get("currentPassword")?.valueChanges.subscribe(r=>{this.currentPassword=r}),this.form.get("newPassword")?.valueChanges.subscribe(r=>{this.newPassword=r}),this.form.get("newPasswordConfirm")?.valueChanges.subscribe(r=>{this.newPasswordConfirm=r}),this.spinnerService.visibility.subscribe(r=>{this.disableSubmit=r})}changePassword(){if(this.newPassword!==this.newPasswordConfirm)return void this.notificationService.openSnackBar("New passwords do not match.");const r=this.authService.getCurrentUser().email;this.authService.ForgotPassword(r)}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(g.$),e.Y36(x.Kf),e.Y36(w.V),e.Y36(U.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-change-password"]],decls:22,vars:11,consts:[[3,"formGroup"],["fxLayout","row"],["fxFlex","40%","fxFlex.md","60%","fxFlex.sm","50%","fxFlex.xs","100%"],[1,"full-width"],["matInput","","placeholder","Current Password","formControlName","currentPassword","autocomplete","current-password",3,"type"],["matSuffix","",3,"click"],[4,"ngIf"],["matInput","","placeholder","New Password","formControlName","newPassword","autocomplete","new-password",3,"type"],["matInput","","placeholder","Confirm New Password","formControlName","newPasswordConfirm","autocomplete","new-password",3,"type"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(r,a){1&r&&(e.TgZ(0,"form",0)(1,"p"),e._uU(2,"Use the form below to change your password."),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"mat-form-field",3),e._UZ(6,"input",4),e.TgZ(7,"mat-icon",5),e.NdJ("click",function(){return a.hideCurrentPassword=!a.hideCurrentPassword}),e._uU(8),e.qZA(),e.YNc(9,f,2,0,"mat-error",6),e.qZA(),e.TgZ(10,"mat-form-field",3),e._UZ(11,"input",7),e.TgZ(12,"mat-icon",5),e.NdJ("click",function(){return a.hideNewPassword=!a.hideNewPassword}),e._uU(13),e.qZA(),e.YNc(14,L,2,0,"mat-error",6),e.qZA(),e.TgZ(15,"mat-form-field",3),e._UZ(16,"input",8),e.TgZ(17,"mat-icon",5),e.NdJ("click",function(){return a.hideNewPassword=!a.hideNewPassword}),e._uU(18),e.qZA(),e.YNc(19,b,2,0,"mat-error",6),e.qZA(),e.TgZ(20,"button",9),e.NdJ("click",function(){return a.changePassword()}),e._uU(21,"Save"),e.qZA()()()()),2&r&&(e.Q6J("formGroup",a.form),e.xp6(6),e.Q6J("type",a.hideCurrentPassword?"password":"text"),e.xp6(2),e.hij(" ",a.hideCurrentPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",a.form.controls.currentPassword.hasError("required")),e.xp6(2),e.Q6J("type",a.hideNewPassword?"password":"text"),e.xp6(2),e.hij(" ",a.hideNewPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",a.form.controls.newPassword.hasError("required")),e.xp6(2),e.Q6J("type",a.hideNewPassword?"password":"text"),e.xp6(2),e.hij(" ",a.hideNewPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",a.form.controls.newPasswordConfirm.hasError("required")),e.xp6(1),e.Q6J("disabled",a.form.invalid||a.disableSubmit))},dependencies:[P.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,l.xw,l.yH,_.Hw,y.lW,h.TO,h.KE,h.R9,O.Nt],styles:[".password-rules[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{position:unset!important}.container[_ngcontent-%COMP%]{padding-top:20px}"]}),o})(),I=(()=>{class o{constructor(r){this.authService=r,this.fullName="",this.email="",this.alias="",this.photoURL=""}ngOnInit(){this.fullName=this.authService.getCurrentUser().displayName,this.email=this.authService.getCurrentUser().email,this.photoURL=this.authService.getCurrentUser().photoURL}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(g.$))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile-details"]],decls:8,vars:5,consts:[[1,"profile-card"],[3,"src","alt"],[1,"title"]],template:function(r,a){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"label"),e._uU(5),e.qZA(),e.TgZ(6,"label"),e._uU(7),e.qZA()()),2&r&&(e.xp6(1),e.s9C("src",a.photoURL,e.LSH),e.Q6J("alt",a.fullName),e.xp6(2),e.hij(" ",a.fullName," "),e.xp6(2),e.hij(" ",a.alias," "),e.xp6(2),e.hij(" ",a.email," "))},styles:[".profile-card[_ngcontent-%COMP%]{text-align:center}"]}),o})();const Q=[{path:"",component:t.$,children:[{path:"profile",component:(()=>{class o{constructor(r){this.titleService=r}ngOnInit(){this.titleService.setTitle("angular-material-template - Account")}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(M.Dx))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-page"]],decls:14,vars:0,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex","95%"],["fxLayout","row","fxLayout.sm","column","fxLayout.xs","column"],["fxFlex","30%","fxFlex.sm","95%","fxFlex.xs","95%"],["fxFlex",""],["fxFlex","65%","fxFlex.sm","95%","fxFlex.xs","950%"],["label","Change Password"]],template:function(r,a){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-content")(4,"h2"),e._uU(5,"My Profile"),e.qZA(),e.TgZ(6,"div",2)(7,"div",3),e._UZ(8,"app-profile-details"),e.qZA(),e._UZ(9,"div",4),e.TgZ(10,"div",5)(11,"mat-tab-group")(12,"mat-tab",6),e._UZ(13,"app-change-password"),e.qZA()()()()()()()())},dependencies:[l.xw,l.Wh,l.yH,C.a8,C.dn,p.SP,p.uX,D,I]}),o})()}]}];let A=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Z.Bz.forChild(Q),Z.Bz]}),o})();var N=n(3927);let R=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[P.ez,N.m,A]}),o})()},6797:(K,v,n)=>{n.d(v,{$:()=>W});var P=n(5963),Z=n(727),t=n(4650),e=n(2289),M=n(4649),l=n(263),C=n(7574),p=n(6159),s=n(6895),g=n(3267),x=n(7392),w=n(3683),U=n(4859),_=n(6338),y=n(3238),h=n(4850),O=n(3162),f=n(8255),L=n(266),b=n(2673),D=n(5829);function I(d,B){1&d&&t._UZ(0,"mat-progress-bar",24)}const J=function(){return["/"]},Q=function(){return["/account/profile"]},A=function(){return["/auth/login"]},N=function(){return["/accounts/accounts-daily"]},R=function(){return["/rent"]},o=function(){return["/report/inout-weekly"]},i=function(){return["/accounts/expense"]},r=function(){return["/lots"]},a=function(){return["/shop"]},m=function(){return["/product/type/list"]},S=function(){return["/product"]};let W=(()=>{class d{constructor(c,u,E,T,F){this.changeDetectorRef=c,this.media=u,this.spinnerService=E,this.authService=T,this.authGuard=F,this.showSpinner=!1,this.userName="",this.isAdmin=!1,this.autoLogoutSubscription=new Z.w0,this.mobileQuery=this.media.matchMedia("(max-width: 1000px)"),this._mobileQueryListener=()=>c.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){const c=this.authService.getCurrentUser();this.isAdmin=!0,this.userName=c.displayName;const u=(0,P.H)(2e3,5e3);this.autoLogoutSubscription=u.subscribe(()=>{this.authGuard.canActivate()})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener),this.autoLogoutSubscription.unsubscribe()}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}}return d.\u0275fac=function(c){return new(c||d)(t.Y36(t.sBO),t.Y36(e.vx),t.Y36(M.V),t.Y36(l.$),t.Y36(C.a))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-layout"]],decls:93,vars:37,consts:[[1,"navbar-container"],["color","primary",1,"navbar"],["mat-icon-button","",3,"click"],["matTooltip","Home",1,"navbar-brand",3,"routerLink"],[1,"navbar-spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["matBadge","","matBadgeColor","accent"],["xPosition","before","yPosition","above",3,"overlapTrigger"],["notificationMenu","matMenu"],["mat-button","",3,"matMenuTriggerFor"],["fxShow","","fxHide.xs",""],["userMenu","matMenu"],["mat-menu-item","",3,"routerLink"],[1,"navbar-sidenav-container"],["fixedTopGap","56",1,"sidenav",3,"opened","mode","fixedInViewport"],["snav",""],["mat-subheader",""],["mat-list-item","","routerLinkActive","active",3,"routerLink"],["mat-list-icon",""],["mat-line",""],["id","push-bottom","mat-list-item","","routerLinkActive","active",3,"routerLink"],[1,"sidenav-content"],[1,"progress-bar-container"],["color","accent","mode","indeterminate",4,"ngIf"],["color","accent","mode","indeterminate"]],template:function(c,u){if(1&c){const E=t.EpF();t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),t.NdJ("click",function(){t.CHM(E);const F=t.MAs(33);return t.KtG(F.toggle())}),t.TgZ(3,"mat-icon"),t._uU(4,"menu"),t.qZA()(),t.TgZ(5,"a",3)(6,"h1"),t._uU(7," Ratchadakarn Food Court "),t.qZA()(),t._UZ(8,"span",4),t.TgZ(9,"button",5)(10,"mat-icon",6),t._uU(11,"notifications"),t.qZA()(),t._UZ(12,"mat-menu",7,8),t.TgZ(14,"button",9)(15,"mat-icon"),t._uU(16,"person"),t.qZA(),t.TgZ(17,"span",10),t._uU(18),t.qZA()(),t.TgZ(19,"mat-menu",7,11)(21,"a",12)(22,"mat-icon"),t._uU(23,"person"),t.qZA(),t.TgZ(24,"span"),t._uU(25,"Account"),t.qZA()(),t.TgZ(26,"a",12)(27,"mat-icon"),t._uU(28,"exit_to_app"),t.qZA(),t.TgZ(29,"span"),t._uU(30,"Log out"),t.qZA()()()(),t.TgZ(31,"mat-sidenav-container",13)(32,"mat-sidenav",14,15)(34,"mat-nav-list")(35,"h3",16),t._uU(36,"Home"),t.qZA(),t.TgZ(37,"a",17)(38,"mat-icon",18),t._uU(39," dvr "),t.qZA(),t.TgZ(40,"p",19),t._uU(41,"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e23\u0e32\u0e22\u0e27\u0e31\u0e19 "),t.qZA()(),t.TgZ(42,"a",17)(43,"mat-icon",18),t._uU(44," dvr "),t.qZA(),t.TgZ(45,"p",19),t._uU(46,"\u0e04\u0e48\u0e32\u0e40\u0e0a\u0e48\u0e32 "),t.qZA()(),t.TgZ(47,"mat-nav-list")(48,"h3",16),t._uU(49,"Report"),t.qZA(),t.TgZ(50,"a",17)(51,"mat-icon",18),t._uU(52," dvr "),t.qZA(),t.TgZ(53,"p",19),t._uU(54,"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14\u0e23\u0e31\u0e1a\u0e08\u0e48\u0e32\u0e22 "),t.qZA()()(),t._UZ(55,"mat-divider"),t.TgZ(56,"h3",16),t._uU(57,"Setting"),t.qZA(),t.TgZ(58,"a",17)(59,"mat-icon",18),t._uU(60," toc "),t.qZA(),t.TgZ(61,"p",19),t._uU(62," \u0e04\u0e48\u0e32\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22 "),t.qZA()(),t.TgZ(63,"a",17)(64,"mat-icon",18),t._uU(65," build "),t.qZA(),t.TgZ(66,"p",19),t._uU(67,"\u0e25\u0e47\u0e2d\u0e04\u0e43\u0e2b\u0e49\u0e40\u0e0a\u0e48\u0e32"),t.qZA()(),t.TgZ(68,"a",17)(69,"mat-icon",18),t._uU(70," restaurant "),t.qZA(),t.TgZ(71,"p",19),t._uU(72," \u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32 "),t.qZA()(),t.TgZ(73,"a",17)(74,"mat-icon",18),t._uU(75," source "),t.qZA(),t.TgZ(76,"p",19),t._uU(77," \u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 "),t.qZA()(),t.TgZ(78,"a",17)(79,"mat-icon",18),t._uU(80," kitchen "),t.qZA(),t.TgZ(81,"p",19),t._uU(82," \u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 "),t.qZA()(),t.TgZ(83,"a",20)(84,"mat-icon",18),t._uU(85," exit_to_app "),t.qZA(),t.TgZ(86,"p",19),t._uU(87," \u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a "),t.qZA()()()(),t.TgZ(88,"mat-sidenav-content",21)(89,"div",22),t.YNc(90,I,1,0,"mat-progress-bar",23),t.ALo(91,"async"),t.qZA(),t._UZ(92,"router-outlet"),t.qZA()()()}if(2&c){const E=t.MAs(13),T=t.MAs(20);t.ekj("example-is-mobile",u.mobileQuery.matches),t.xp6(5),t.Q6J("routerLink",t.DdM(25,J)),t.xp6(4),t.Q6J("matMenuTriggerFor",E),t.xp6(3),t.Q6J("overlapTrigger",!1),t.xp6(2),t.Q6J("matMenuTriggerFor",T),t.xp6(4),t.hij(" ",u.userName," "),t.xp6(1),t.Q6J("overlapTrigger",!1),t.xp6(2),t.Q6J("routerLink",t.DdM(26,Q)),t.xp6(5),t.Q6J("routerLink",t.DdM(27,A)),t.xp6(6),t.Q6J("opened",!u.mobileQuery.matches)("mode",u.mobileQuery.matches?"over":"side")("fixedInViewport",u.mobileQuery.matches),t.xp6(5),t.Q6J("routerLink",t.DdM(28,N)),t.xp6(5),t.Q6J("routerLink",t.DdM(29,R)),t.xp6(8),t.Q6J("routerLink",t.DdM(30,o)),t.xp6(8),t.Q6J("routerLink",t.DdM(31,i)),t.xp6(5),t.Q6J("routerLink",t.DdM(32,r)),t.xp6(5),t.Q6J("routerLink",t.DdM(33,a)),t.xp6(5),t.Q6J("routerLink",t.DdM(34,m)),t.xp6(5),t.Q6J("routerLink",t.DdM(35,S)),t.xp6(5),t.Q6J("routerLink",t.DdM(36,A)),t.xp6(7),t.Q6J("ngIf",t.lcZ(91,23,u.spinnerService.visibility))}},dependencies:[p.lC,p.yS,p.Od,s.O5,g.JX,g.TM,g.Rh,x.Hw,w.Ye,U.lW,_.Hk,_.Tg,y.X2,_.Nh,_.gs,h.d,O.pW,f.VK,f.OP,f.p6,L.gM,b.k,D.b8,s.Ov],styles:[".navbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.navbar[_ngcontent-%COMP%]{z-index:2}.navbar-brand[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.navbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.navbar-is-mobile[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{position:fixed;z-index:2}.navbar-sidenav-container[_ngcontent-%COMP%]{flex:1}.navbar-is-mobile[_ngcontent-%COMP%]   .navbar-sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}mat-sidenav[_ngcontent-%COMP%]{min-width:180px!important;border-right:1px solid #eee;box-shadow:6px 0 6px #0000001a}.progress-bar-container[_ngcontent-%COMP%]{height:5px}a.mat-list-item.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}#push-bottom[_ngcontent-%COMP%]{position:absolute;bottom:0}"]}),d})()}}]);