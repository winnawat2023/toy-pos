"use strict";(self.webpackChunkangular_material_template=self.webpackChunkangular_material_template||[]).push([[934],{7327:(tt,Z,s)=>{s.d(Z,{d:()=>o});var d=s(4650),D=s(5197);let o=(()=>{class E{constructor(p){this.db=p,this.dbPath="/restaurants",this.restaurantsRef=p.list(this.dbPath)}getDBPath(){return this.dbPath}setCurrentShop(p){this.currentShop=p}getCurrentShop(){return this.currentShop}getAll(){return this.restaurantsRef}create(p){return this.restaurantsRef.push(p)}update(p){return this.restaurantsRef.update(p.key,p)}delete(p){return this.restaurantsRef.remove(p)}deleteAll(){return this.restaurantsRef.remove()}getShopStatus(p){return p?"\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19":"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a"}}return E.\u0275fac=function(p){return new(p||E)(d.LFG(D.KQ))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},3934:(tt,Z,s)=>{s.r(Z),s.d(Z,{OrderModule:()=>he});var d=s(6895),D=s(3927),o=s(6159),E=s(6797),l=s(4006),p=s(4004);class B{}class I{}class b{}var t=s(4650),Y=s(1481),z=s(1173),W=s(7327),A=s(3560),G=s(263),V=s(5197);let U=(()=>{class r{constructor(e){this.db=e,this.dbPath="/orders",this.orderRef=e.list(this.dbPath)}setCurrentReceipt(e){this.currentOrderHistory=e}setCurrentOrderHistory(e){this.currentOrderHistory=e}getCurrentOrderHistory(){return this.currentOrderHistory}getAll(e){return this.orderRef=this.db.list(this.dbPath,n=>n.orderByChild("createTime").startAt(e+" 00:00:01").endAt(e+" 23:59:59")),this.orderRef}create(e){return this.orderRef.push(e)}update(e){return this.orderRef.update(e.key,e)}delete(e){return this.orderRef.remove(e.key)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(V.KQ))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var C=s(9980),O=s(4859),F=s(4080),L=s(2687),q=s(445),v=s(1281),P=s(9521),N=s(3353),k=s(7579),K=s(9646),S=s(8675),T=s(2722);function j(r,i){1&r&&t.Hsn(0)}const $=["*"];let R=(()=>{class r{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq))},r.\u0275dir=t.lG2({type:r,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),r})(),H=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.Rgc))},r.\u0275dir=t.lG2({type:r,selectors:[["","cdkStepLabel",""]]}),r})(),X=0;const g=new t.OlP("STEPPER_GLOBAL_OPTIONS");let h=(()=>{class r{constructor(e,n){this._stepper=e,this.interacted=!1,this.interactedStream=new t.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=n||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(e){this._editable=(0,v.Ig)(e)}get optional(){return this._optional}set optional(e){this._optional=(0,v.Ig)(e)}get completed(){return this._completedOverride??this._getDefaultCompleted()}set completed(e){this._completedOverride=(0,v.Ig)(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError??this._getDefaultError()}set hasError(e){this._customError=(0,v.Ig)(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}}return r.\u0275fac=function(e){return new(e||r)(t.Y36((0,t.Gpc)(()=>_)),t.Y36(g,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["cdk-step"]],contentQueries:function(e,n,a){if(1&e&&t.Suo(a,H,5),2&e){let u;t.iGM(u=t.CRH())&&(n.stepLabel=u.first)}},viewQuery:function(e,n){if(1&e&&t.Gf(t.Rgc,7),2&e){let a;t.iGM(a=t.CRH())&&(n.content=a.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[t.TTD],ngContentSelectors:$,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.YNc(0,j,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),r})(),_=(()=>{class r{constructor(e,n,a){this._dir=e,this._changeDetectorRef=n,this._elementRef=a,this._destroyed=new k.x,this.steps=new t.n_E,this._sortedHeaders=new t.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new t.vpe,this._orientation="horizontal",this._groupId=X++}get linear(){return this._linear}set linear(e){this._linear=(0,v.Ig)(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const n=(0,v.su)(e);this.steps&&this._steps?(this._isValidIndex(n),this.selected?._markAsInteracted(),this._selectedIndex!==n&&!this._anyControlsInvalidOrPending(n)&&(n>=this._selectedIndex||this.steps.toArray()[n].editable)&&this._updateSelectedItemIndex(n)):this._selectedIndex=n}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}ngAfterContentInit(){this._steps.changes.pipe((0,S.O)(this._steps),(0,T.R)(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(n=>n._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe((0,S.O)(this._stepHeader),(0,T.R)(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((n,a)=>n._elementRef.nativeElement.compareDocumentPosition(a._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new L.Em(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,K.of)()).pipe((0,S.O)(this._layoutDirection()),(0,T.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const n=e-this._selectedIndex;return n<0?"rtl"===this._layoutDirection()?"next":"previous":n>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,n="number"){const a=this.steps.toArray()[e],u=this._isCurrentStep(e);return a._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(a,u):this._getGuidelineLogic(a,u,n)}_getDefaultIndicatorLogic(e,n){return e._showError()&&e.hasError&&!n?"error":!e.completed||n?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,n,a="number"){return e._showError()&&e.hasError&&!n?"error":e.completed&&!n?"done":e.completed&&n?a:e.editable&&n?"edit":a}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const n=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:n[e],previouslySelectedStep:n[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const n=(0,P.Vb)(e),a=e.keyCode,u=this._keyManager;null==u.activeItemIndex||n||a!==P.L_&&a!==P.K5?u.onKeydown(e):(this.selectedIndex=u.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(n=>{const a=n.stepControl;return(a?a.invalid||a.pending||!n.interacted:!n.completed)&&!n.optional&&!n._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,n=(0,N.ht)();return e===n||e.contains(n)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(q.Is,8),t.Y36(t.sBO),t.Y36(t.SBq))},r.\u0275dir=t.lG2({type:r,selectors:[["","cdkStepper",""]],contentQueries:function(e,n,a){if(1&e&&(t.Suo(a,h,5),t.Suo(a,R,5)),2&e){let u;t.iGM(u=t.CRH())&&(n._steps=u),t.iGM(u=t.CRH())&&(n._stepHeader=u)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),r})(),M=(()=>{class r{constructor(e){this._stepper=e,this.type="submit"}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(_))},r.\u0275dir=t.lG2({type:r,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n._stepper.next()}),2&e&&t.Ikx("type",n.type)},inputs:{type:"type"}}),r})(),w=(()=>{class r{constructor(e){this._stepper=e,this.type="button"}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(_))},r.\u0275dir=t.lG2({type:r,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(e,n){1&e&&t.NdJ("click",function(){return n._stepper.previous()}),2&e&&t.Ikx("type",n.type)},inputs:{type:"type"}}),r})(),ct=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[q.vT]}),r})();var x=s(3238),et=s(7392),ht=s(727),mt=s(3900),gt=s(1884),c=s(7340);function _t(r,i){if(1&r&&t.GkF(0,8),2&r){const e=t.oxw();t.Q6J("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function Et(r,i){if(1&r&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e._getDefaultTextForState(e.state))}}function ft(r,i){if(1&r&&(t.TgZ(0,"span",14),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e._intl.completedLabel)}}function vt(r,i){if(1&r&&(t.TgZ(0,"span",14),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e._intl.editableLabel)}}function yt(r,i){if(1&r&&(t.TgZ(0,"mat-icon",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e._getDefaultTextForState(e.state))}}function xt(r,i){if(1&r&&(t.ynx(0,9),t.YNc(1,Et,2,1,"span",10),t.YNc(2,ft,2,1,"span",11),t.YNc(3,vt,2,1,"span",11),t.YNc(4,yt,2,1,"mat-icon",12),t.BQk()),2&r){const e=t.oxw();t.Q6J("ngSwitch",e.state),t.xp6(1),t.Q6J("ngSwitchCase","number"),t.xp6(1),t.Q6J("ngIf","done"===e.state),t.xp6(1),t.Q6J("ngIf","edit"===e.state)}}function bt(r,i){if(1&r&&(t.TgZ(0,"div",15),t.GkF(1,16),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e._templateLabel().template)}}function Tt(r,i){if(1&r&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.label)}}function Zt(r,i){if(1&r&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e._intl.optionalLabel)}}function At(r,i){if(1&r&&(t.TgZ(0,"div",18),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.errorMessage)}}function Ct(r,i){}function Ot(r,i){if(1&r&&(t.Hsn(0),t.YNc(1,Ct,0,0,"ng-template",0)),2&r){const e=t.oxw();t.xp6(1),t.Q6J("cdkPortalOutlet",e._portal)}}const St=["*"];function Mt(r,i){1&r&&t._UZ(0,"div",11)}const rt=function(r,i){return{step:r,i}};function Dt(r,i){if(1&r&&(t.ynx(0),t.GkF(1,9),t.YNc(2,Mt,1,0,"div",10),t.BQk()),2&r){const e=i.$implicit,n=i.index,a=i.last;t.oxw(2);const u=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.WLB(3,rt,e,n)),t.xp6(1),t.Q6J("ngIf",!a)}}const nt=function(r){return{animationDuration:r}},ot=function(r,i){return{value:r,params:i}};function It(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",12),t.NdJ("@horizontalStepTransition.done",function(a){t.CHM(e);const u=t.oxw(2);return t.KtG(u._animationDone.next(a))}),t.GkF(1,13),t.qZA()}if(2&r){const e=i.$implicit,n=i.index,a=t.oxw(2);t.Q6J("@horizontalStepTransition",t.WLB(7,ot,a._getAnimationDirection(n),t.VKq(5,nt,a._getAnimationDuration())))("id",a._getStepContentId(n)),t.uIk("aria-labelledby",a._getStepLabelId(n))("aria-expanded",a.selectedIndex===n),t.xp6(1),t.Q6J("ngTemplateOutlet",e.content)}}function Ut(r,i){if(1&r&&(t.TgZ(0,"div",4)(1,"div",5),t.YNc(2,Dt,3,6,"ng-container",6),t.qZA(),t.TgZ(3,"div",7),t.YNc(4,It,2,10,"div",8),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.steps),t.xp6(2),t.Q6J("ngForOf",e.steps)}}function Ft(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",15),t.GkF(1,9),t.TgZ(2,"div",16)(3,"div",17),t.NdJ("@verticalStepTransition.done",function(a){t.CHM(e);const u=t.oxw(2);return t.KtG(u._animationDone.next(a))}),t.TgZ(4,"div",18),t.GkF(5,13),t.qZA()()()()}if(2&r){const e=i.$implicit,n=i.index,a=i.last,u=t.oxw(2),f=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",t.WLB(9,rt,e,n)),t.xp6(1),t.ekj("mat-stepper-vertical-line",!a),t.xp6(1),t.Q6J("@verticalStepTransition",t.WLB(14,ot,u._getAnimationDirection(n),t.VKq(12,nt,u._getAnimationDuration())))("id",u._getStepContentId(n)),t.uIk("aria-labelledby",u._getStepLabelId(n))("aria-expanded",u.selectedIndex===n),t.xp6(2),t.Q6J("ngTemplateOutlet",e.content)}}function qt(r,i){if(1&r&&(t.ynx(0),t.YNc(1,Ft,6,17,"div",14),t.BQk()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.steps)}}function Pt(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"mat-step-header",19),t.NdJ("click",function(){const u=t.CHM(e).step;return t.KtG(u.select())})("keydown",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u._onKeydown(a))}),t.qZA()}if(2&r){const e=i.step,n=i.i,a=t.oxw();t.ekj("mat-horizontal-stepper-header","horizontal"===a.orientation)("mat-vertical-stepper-header","vertical"===a.orientation),t.Q6J("tabIndex",a._getFocusIndex()===n?0:-1)("id",a._getStepLabelId(n))("index",n)("state",a._getIndicatorType(n,e.state))("label",e.stepLabel||e.label)("selected",a.selectedIndex===n)("active",a._stepIsNavigable(n,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",a._iconOverrides)("disableRipple",a.disableRipple||!a._stepIsNavigable(n,e))("color",e.color||a.color),t.uIk("aria-posinset",n+1)("aria-setsize",a.steps.length)("aria-controls",a._getStepContentId(n))("aria-selected",a.selectedIndex==n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!a._stepIsNavigable(n,e)||null)}}let J=(()=>{class r extends H{}return r.\u0275fac=function(){let i;return function(n){return(i||(i=t.n5z(r)))(n||r)}}(),r.\u0275dir=t.lG2({type:r,selectors:[["","matStepLabel",""]],features:[t.qOj]}),r})(),Q=(()=>{class r{constructor(){this.changes=new k.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const wt={provide:Q,deps:[[new t.FiY,new t.tp0,Q]],useFactory:function kt(r){return r||new Q}},Lt=(0,x.pj)(class extends R{constructor(i){super(i)}},"primary");let it=(()=>{class r extends Lt{constructor(e,n,a,u){super(a),this._intl=e,this._focusMonitor=n,this._intlSubscription=e.changes.subscribe(()=>u.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,n){e?this._focusMonitor.focusVia(this._elementRef,e,n):this._elementRef.nativeElement.focus(n)}_stringLabel(){return this.label instanceof J?null:this.label}_templateLabel(){return this.label instanceof J?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Q),t.Y36(L.tE),t.Y36(t.SBq),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[t.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,n){1&e&&(t._UZ(0,"div",0),t.TgZ(1,"div")(2,"div",1),t.YNc(3,_t,1,2,"ng-container",2),t.YNc(4,xt,5,4,"ng-container",3),t.qZA()(),t.TgZ(5,"div",4),t.YNc(6,bt,2,1,"div",5),t.YNc(7,Tt,2,1,"div",5),t.YNc(8,Zt,2,1,"div",6),t.YNc(9,At,2,1,"div",7),t.qZA()),2&e&&(t.Q6J("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disableRipple),t.xp6(1),t.Gre("mat-step-icon-state-",n.state," mat-step-icon"),t.ekj("mat-step-icon-selected",n.selected),t.xp6(1),t.Q6J("ngSwitch",!(!n.iconOverrides||!n.iconOverrides[n.state])),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(2),t.ekj("mat-step-label-active",n.active)("mat-step-label-selected",n.selected)("mat-step-label-error","error"==n.state),t.xp6(1),t.Q6J("ngIf",n._templateLabel()),t.xp6(1),t.Q6J("ngIf",n._stringLabel()),t.xp6(1),t.Q6J("ngIf",n.optional&&"error"!=n.state),t.xp6(1),t.Q6J("ngIf","error"==n.state))},dependencies:[d.O5,d.tP,d.RF,d.n9,d.ED,et.Hw,x.wG],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0}),r})();const ut={horizontalStepTransition:(0,c.X$)("horizontalStepTransition",[(0,c.SB)("previous",(0,c.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),(0,c.SB)("current",(0,c.oB)({transform:"none",visibility:"inherit"})),(0,c.SB)("next",(0,c.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),(0,c.eR)("* => *",(0,c.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),{params:{animationDuration:"500ms"}})]),verticalStepTransition:(0,c.X$)("verticalStepTransition",[(0,c.SB)("previous",(0,c.oB)({height:"0px",visibility:"hidden"})),(0,c.SB)("next",(0,c.oB)({height:"0px",visibility:"hidden"})),(0,c.SB)("current",(0,c.oB)({height:"*",visibility:"inherit"})),(0,c.eR)("* <=> current",(0,c.jt)("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),{params:{animationDuration:"225ms"}})])};let Nt=(()=>{class r{constructor(e){this.templateRef=e}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.Rgc))},r.\u0275dir=t.lG2({type:r,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),r})(),Rt=(()=>{class r{constructor(e){this._template=e}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.Rgc))},r.\u0275dir=t.lG2({type:r,selectors:[["ng-template","matStepContent",""]]}),r})(),lt=(()=>{class r extends h{constructor(e,n,a,u){super(e,u),this._errorStateMatcher=n,this._viewContainerRef=a,this._isSelected=ht.w0.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe((0,mt.w)(()=>this._stepper.selectionChange.pipe((0,p.U)(e=>e.selectedStep===this),(0,S.O)(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new F.UE(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,n){return this._errorStateMatcher.isErrorState(e,n)||!!(e&&e.invalid&&this.interacted)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36((0,t.Gpc)(()=>pt)),t.Y36(x.rD,4),t.Y36(t.s_b),t.Y36(g,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["mat-step"]],contentQueries:function(e,n,a){if(1&e&&(t.Suo(a,J,5),t.Suo(a,Rt,5)),2&e){let u;t.iGM(u=t.CRH())&&(n.stepLabel=u.first),t.iGM(u=t.CRH())&&(n._lazyContent=u.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[t._Bn([{provide:x.rD,useExisting:r},{provide:h,useExisting:r}]),t.qOj],ngContentSelectors:St,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,n){1&e&&(t.F$t(),t.YNc(0,Ot,2,1,"ng-template"))},dependencies:[F.Pl],encapsulation:2,changeDetection:0}),r})(),pt=(()=>{class r extends _{constructor(e,n,a){super(e,n,a),this.steps=new t.n_E,this.animationDone=new t.vpe,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new k.x,this._animationDuration="";const u=a.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===u?"vertical":"horizontal"}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:n})=>this._iconOverrides[e]=n),this.steps.changes.pipe((0,T.R)(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe((0,gt.x)((e,n)=>e.fromState===n.fromState&&e.toState===n.toState),(0,T.R)(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,n){return n.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(q.Is,8),t.Y36(t.sBO),t.Y36(t.SBq))},r.\u0275cmp=t.Xpm({type:r,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,n,a){if(1&e&&(t.Suo(a,lt,5),t.Suo(a,Nt,5)),2&e){let u;t.iGM(u=t.CRH())&&(n._steps=u),t.iGM(u=t.CRH())&&(n._icons=u)}},viewQuery:function(e,n){if(1&e&&t.Gf(it,5),2&e){let a;t.iGM(a=t.CRH())&&(n._stepHeader=a)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(e,n){2&e&&(t.uIk("aria-orientation",n.orientation),t.ekj("mat-stepper-horizontal","horizontal"===n.orientation)("mat-stepper-vertical","vertical"===n.orientation)("mat-stepper-label-position-end","horizontal"===n.orientation&&"end"==n.labelPosition)("mat-stepper-label-position-bottom","horizontal"===n.orientation&&"bottom"==n.labelPosition)("mat-stepper-header-position-bottom","bottom"===n.headerPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[t._Bn([{provide:_,useExisting:r}]),t.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],["class","mat-horizontal-stepper-wrapper",4,"ngSwitchCase"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(e,n){1&e&&(t.ynx(0,0),t.YNc(1,Ut,5,2,"div",1),t.YNc(2,qt,2,1,"ng-container",2),t.BQk(),t.YNc(3,Pt,1,23,"ng-template",null,3,t.W1O)),2&e&&(t.Q6J("ngSwitch",n.orientation),t.xp6(1),t.Q6J("ngSwitchCase","horizontal"),t.xp6(1),t.Q6J("ngSwitchCase","vertical"))},dependencies:[d.sg,d.O5,d.tP,d.RF,d.n9,it],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[ut.horizontalStepTransition,ut.verticalStepTransition]},changeDetection:0}),r})(),Ht=(()=>{class r extends M{}return r.\u0275fac=function(){let i;return function(n){return(i||(i=t.n5z(r)))(n||r)}}(),r.\u0275dir=t.lG2({type:r,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(e,n){2&e&&t.Ikx("type",n.type)},inputs:{type:"type"},features:[t.qOj]}),r})(),Jt=(()=>{class r extends w{}return r.\u0275fac=function(){let i;return function(n){return(i||(i=t.n5z(r)))(n||r)}}(),r.\u0275dir=t.lG2({type:r,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(e,n){2&e&&t.Ikx("type",n.type)},inputs:{type:"type"},features:[t.qOj]}),r})(),Qt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[wt,x.rD],imports:[x.BQ,d.ez,F.eL,O.ot,ct,et.Ps,x.si,x.BQ]}),r})();const Bt=["stepper"];function Yt(r,i){1&r&&t._uU(0,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32")}function zt(r,i){if(1&r&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.Oqu(e.name)}}function Wt(r,i){1&r&&t._uU(0,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32")}function Gt(r,i){if(1&r&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.Oqu(e.title)}}function Vt(r,i){if(1&r&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.Oqu(e.title)}}function Kt(r,i){if(1&r&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.Oqu(e.title)}}function jt(r,i){if(1&r&&(t.TgZ(0,"div",12),t._UZ(1,"img",38),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.s9C("src",e.orderForm.get("product").value.image,t.LSH)}}function $t(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",11)(2,"div",12),t._UZ(3,"input",39),t.qZA(),t.TgZ(4,"div",12),t._UZ(5,"input",40),t.qZA()(),t.TgZ(6,"div",11)(7,"div",12),t._UZ(8,"input",41),t.qZA(),t.TgZ(9,"div",12)(10,"input",42),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.quantityChange())}),t.qZA()()(),t.TgZ(11,"div",11)(12,"div",12),t._UZ(13,"input",43),t.qZA(),t.TgZ(14,"div",12),t._UZ(15,"input",44),t.qZA()(),t.TgZ(16,"div",17)(17,"div",12),t._UZ(18,"input",45),t.qZA(),t.TgZ(19,"div",12),t._UZ(20,"input",46),t.qZA(),t.TgZ(21,"button",47),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.addOrder())}),t._uU(22," \u0e40\u0e1e\u0e34\u0e48\u0e21\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23 "),t.qZA()()()}}function Xt(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td",26),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",48),t._UZ(5,"img",38),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td",26),t._uU(9),t.qZA(),t.TgZ(10,"td",26),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"button",49),t.NdJ("click",function(){const u=t.CHM(e).$implicit,f=t.oxw();return t.KtG(f.deleteOrder(u))}),t._uU(14," \u0e25\u0e1a\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23 "),t.qZA()()()}if(2&r){const e=i.$implicit,n=i.index;t.xp6(2),t.Oqu(n+1),t.xp6(3),t.s9C("src",e.product.image,t.LSH),t.xp6(2),t.Oqu(e.product.title),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(e.total)}}function te(r,i){1&r&&t._uU(0,"\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19")}function ee(r,i){1&r&&(t.TgZ(0,"div"),t._UZ(1,"img",50),t.qZA())}function re(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",11)(2,"div",12),t._UZ(3,"input",51),t.qZA(),t.TgZ(4,"div",12)(5,"input",52),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.totalPayChange())}),t.qZA()()(),t.TgZ(6,"div",11)(7,"div",12),t._UZ(8,"input",53),t.qZA(),t.TgZ(9,"div",12),t._UZ(10,"input",54),t.qZA()()()}}let ne=(()=>{class r{constructor(e,n,a,u,f,me,ge,_e,Ee,fe){this.router=e,this.fb=n,this.titleService=a,this.customerService=u,this.shopService=f,this.productService=me,this.authService=ge,this.orderService=_e,this.datepipe=Ee,this.walletService=fe,this.orders=[],this.showCash=!1,this.wallet=new b}ngOnInit(){this.paymentForm=this.fb.group({amount:[null,l.kI.required],type:["cash",l.kI.required],totalPay:[null],change:[null],status:[!1,l.kI.requiredTrue]}),this.customerForm=this.fb.group({customer:[null,l.kI.required]}),this.orderForm=this.fb.group({shop:[null],type:[null],product:[null],quantity:[1],price:[null],stock:[null],total:[null],orders:[null,[l.kI.required,l.kI.minLength(1)]]}),this.titleService.setTitle("Toy Cafe & Wine - Order"),this.retrieveCustomer(),this.refreshShopList(),this.paymentTypeChange(),this.retrieveWallet()}retrieveWallet(){this.walletService.getAll().snapshotChanges().pipe((0,p.U)(e=>e.map(n=>({key:n.payload.key,...n.payload.val()})))).subscribe(e=>{this.wallet=e[0],console.log("wallet",this.wallet)})}refreshShopList(){this.retrieveShops()}retrieveShops(){this.shopService.getAll().snapshotChanges().pipe((0,p.U)(e=>e.map(n=>({key:n.payload.key,...n.payload.val()})))).subscribe(e=>{this.shops=e,this.shops&&(this.orderForm.get("shop").setValue(this.shops[0]),this.retrieveProductType())})}retrieveProductType(){let e=this.orderForm.get("shop").value;this.productService.getProductType(e).snapshotChanges().pipe((0,p.U)(n=>n.map(a=>({key:a.payload.key,...a.payload.val()})))).subscribe(n=>{this.types=n,console.log(this.types),this.types&&(this.orderForm.get("type").setValue(this.types[0]),this.refreshProductList())})}refreshProductList(){this.retrieveProduct()}retrieveProduct(){let e=this.orderForm.get("type").value;this.productService.getAllProductByType(e).snapshotChanges().pipe((0,p.U)(n=>n.map(a=>({key:a.payload.key,...a.payload.val()})))).subscribe(n=>{this.procucts=n,this.procucts&&(this.orderForm.get("product").setValue(this.procucts[0]),this.productChange())})}refreshList(){this.retrieveCustomer()}retrieveCustomer(){this.customerService.getAll().snapshotChanges().pipe((0,p.U)(e=>e.map(n=>({key:n.payload.key,...n.payload.val()})))).subscribe(e=>{console.log("customers",e),this.customers=e,this.customers&&this.customerForm.get("customer").setValue(this.customers[0])})}customerChange(){console.log("customerChange",this.customerForm.value),this.customerForm.valid&&this.myStepper.next()}shopChange(){console.log("shopChange",this.orderForm.get("shop").value),this.retrieveProductType()}typeChange(){console.log("typeChange",this.orderForm.get("type").value),this.retrieveProduct()}productChange(){let e=this.orderForm.get("product").value;console.log("productChange",e),e?(this.orderForm.get("price").setValue(e.price),this.orderForm.get("stock").setValue(e.stock),this.quantityChange()):(this.orderForm.get("price").setValue(""),this.orderForm.get("stock").setValue(""))}quantityChange(){console.log("quantityChange",this.orderForm.get("quantity").value);let e=this.orderForm.get("product").value;if(e){let n=this.orderForm.get("quantity").value;n>e.stock&&(n=e.stock,this.orderForm.get("quantity").setValue(e.stock)),this.orderForm.get("total").setValue(e.price*n)}else this.orderForm.get("quantity").setValue(0),this.orderForm.get("total").setValue(0)}getTotal(){let e=0;for(let n of this.orders)e+=n.total;return e}deleteOrder(e){const n=this.orders.indexOf(e);this.orders.splice(n,1),this.orderForm.get("orders").setValue(this.orders),this.paymentForm.get("amount").setValue(this.getTotal())}addOrder(){let e=new B;e.product=this.orderForm.get("product").value,e.productType=this.orderForm.get("type").value,e.quantity=this.orderForm.get("quantity").value,e.shop=this.orderForm.get("shop").value,e.total=this.orderForm.get("total").value,console.log("order",e),this.orders.push(e),this.orderForm.get("product").setValue(null),this.orderForm.get("orders").setValue(this.orders),this.paymentForm.get("amount").setValue(this.getTotal())}paymentTypeChange(){console.log(this.paymentForm.get("type").value),"cash"==this.paymentForm.get("type").value?(this.showCash=!0,this.paymentForm.get("totalPay").setValidators(l.kI.required),this.paymentForm.get("change").setValidators(l.kI.required)):(this.showCash=!1,this.paymentForm.get("totalPay").clearValidators(),this.paymentForm.get("change").clearValidators(),this.paymentForm.get("change").reset(),this.paymentForm.get("totalPay").reset(),console.log("clear cash"))}totalPayChange(){let e=this.paymentForm.get("totalPay").value,a=this.paymentForm.get("amount").value-e;this.paymentForm.get("change").setValue(a)}createOrder(){let e=new I;e.createBy=this.authService.getCurrentUser(),e.createTime=this.datepipe.transform(new Date,"yyyy-MM-dd HH:mm:ss"),e.orders=this.orders,e.updateBy=this.authService.getCurrentUser(),e.updateTime=e.createTime,e.payment=this.paymentForm.value,e.customer=this.customerForm.value,e.total=this.getTotal(),console.log("orderHistory",e),this.orderService.create(e).then(()=>{for(let n of e.orders){let a=n.product;this.productService.updateStock(a.key,{stock:a.stock-n.quantity})}this.wallet.balance=this.wallet.balance+e.total,"cash"==e.payment.type?(this.wallet.cash=this.wallet.cash+e.total,this.wallet.drawer=this.wallet.drawer+e.total):this.wallet.transfer=this.wallet.transfer+e.total,this.walletService.update(this.wallet),this.goToDashboard()}).catch(n=>console.log(n))}goToDashboard(){this.router.navigate(["/order/"])}checkStatus(){console.log(this.paymentForm)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(o.F0),t.Y36(l.qu),t.Y36(Y.Dx),t.Y36(z.v),t.Y36(W.d),t.Y36(A.M),t.Y36(G.$),t.Y36(U),t.Y36(d.uU),t.Y36(C.X))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-add"]],viewQuery:function(e,n){if(1&e&&t.Gf(Bt,5),2&e){let a;t.iGM(a=t.CRH())&&(n.myStepper=a.first)}},decls:103,vars:20,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"linear","animationDuration"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["name","customer","id","customer","formControlName","customer",1,"form-control",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","matStepperNext",""],[1,"row","g-2"],[1,"col-auto"],["type","text","readonly","","id","shop","value","\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32",1,"form-control-plaintext"],["name","shop","id","shop","formControlName","shop",1,"form-control",3,"change"],["type","text","readonly","","id","type","value","\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",1,"form-control-plaintext"],["name","type","id","type","formControlName","type",1,"form-control",3,"change"],[1,"row","g-3"],["type","text","readonly","","id","product","value","\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",1,"form-control-plaintext"],["name","product","id","product","formControlName","product",1,"form-control",3,"change"],["class","col-auto",4,"ngIf"],[4,"ngIf"],[1,"table","table-striped","table-bordered","table-hover","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","4",2,"text-align","center"],[2,"text-align","center"],["mat-flat-button","","color","warn","matStepperPrevious",""],["type","text","readonly","","id","shop","value","\u0e08\u0e33\u0e19\u0e27\u0e19\u0e40\u0e07\u0e34\u0e19\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e0a\u0e33\u0e23\u0e30",1,"form-control-plaintext"],["type","text","formControlName","amount","readonly","","formControlName","amount","value","\u0e08\u0e33\u0e19\u0e27\u0e19\u0e40\u0e07\u0e34\u0e19\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e0a\u0e33\u0e23\u0e30",1,"form-control-plaintext",3,"value"],[1,"form-check-label"],["type","radio","value","cash","formControlName","type",3,"change"],["type","radio","value","transfer","formControlName","type",3,"change"],[1,"form-check"],["type","checkbox","value","","id","status","formControlName","status",1,"form-check-input",3,"change"],["for","status",1,"form-check-label"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"ngValue"],[1,"rounded",3,"src"],["type","text","readonly","","id","stock","value","\u0e08\u0e33\u0e19\u0e27\u0e19\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d",1,"form-control-plaintext"],["type","number","readonly","","id","stock","formControlName","stock",1,"form-control-plaintext"],["type","text","readonly","","id","quantity","value","\u0e23\u0e30\u0e1a\u0e38\u0e08\u0e33\u0e19\u0e27\u0e19",1,"form-control-plaintext"],["type","number","id","quantity","formControlName","quantity",1,"form-control",3,"change"],["type","text","readonly","","id","price","value","\u0e23\u0e32\u0e04\u0e32",1,"form-control-plaintext"],["type","number","readonly","","id","price","formControlName","price",1,"form-control-plaintext"],["type","text","readonly","","id","total","value","\u0e23\u0e32\u0e04\u0e32\u0e23\u0e27\u0e21",1,"form-control-plaintext"],["type","number","readonly","","id","total","formControlName","total",1,"form-control-plaintext"],["type","button",1,"btn","btn-success",3,"click"],[1,"text-center"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],["src","../../../../assets/images/qr-payment.jpg",1,"qrpayment",2,"width","300px","height","420px"],["type","text","readonly","","id","shop","value","\u0e08\u0e33\u0e19\u0e27\u0e19\u0e40\u0e07\u0e34\u0e19\u0e17\u0e35\u0e48\u0e0a\u0e33\u0e23\u0e30",1,"form-control-plaintext"],["type","number","id","totalPay","formControlName","totalPay",1,"form-control",3,"change"],["type","text","readonly","","id","shop","value","\u0e08\u0e33\u0e19\u0e27\u0e19\u0e40\u0e07\u0e34\u0e19\u0e17\u0e2d\u0e19",1,"form-control-plaintext"],["type","number","readonly","","id","totalPay","formControlName","change",1,"form-control"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2,"\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e2d\u0e2d\u0e40\u0e14\u0e2d\u0e23\u0e4c "),t.qZA(),t.TgZ(3,"div",2)(4,"mat-vertical-stepper",3,4)(6,"mat-step",5)(7,"form",6),t.YNc(8,Yt,1,0,"ng-template",7),t.TgZ(9,"select",8),t.NdJ("change",function(){return n.customerChange()}),t.YNc(10,zt,2,2,"option",9),t.qZA(),t._UZ(11,"br"),t.TgZ(12,"div")(13,"button",10),t._uU(14,"\u0e15\u0e48\u0e2d\u0e44\u0e1b"),t.qZA()()()(),t.TgZ(15,"mat-step",5)(16,"form",6),t.YNc(17,Wt,1,0,"ng-template",7),t.TgZ(18,"div",11)(19,"div",12),t._UZ(20,"input",13),t.qZA(),t.TgZ(21,"div",12)(22,"select",14),t.NdJ("change",function(){return n.shopChange()}),t.YNc(23,Gt,2,2,"option",9),t.qZA()()(),t.TgZ(24,"div",11)(25,"div",12),t._UZ(26,"input",15),t.qZA(),t.TgZ(27,"div",12)(28,"select",16),t.NdJ("change",function(){return n.typeChange()}),t.YNc(29,Vt,2,2,"option",9),t.qZA()()(),t.TgZ(30,"div",17)(31,"div",12),t._UZ(32,"input",18),t.qZA(),t.TgZ(33,"div",12)(34,"select",19),t.NdJ("change",function(){return n.productChange()}),t.YNc(35,Kt,2,2,"option",9),t.qZA()(),t.YNc(36,jt,2,1,"div",20),t.qZA(),t.YNc(37,$t,23,0,"div",21),t._UZ(38,"br"),t.TgZ(39,"div")(40,"table",22)(41,"thead")(42,"tr")(43,"th",23),t._uU(44,"\u0e25\u0e33\u0e14\u0e31\u0e1a"),t.qZA(),t.TgZ(45,"th",23),t._uU(46,"\u0e23\u0e39\u0e1b\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"),t.qZA(),t.TgZ(47,"th",23),t._uU(48,"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"),t.qZA(),t.TgZ(49,"th",23),t._uU(50,"\u0e08\u0e33\u0e19\u0e27\u0e19"),t.qZA(),t.TgZ(51,"th",23),t._uU(52,"\u0e23\u0e32\u0e04\u0e32"),t.qZA(),t._UZ(53,"th"),t.qZA()(),t.TgZ(54,"tbody"),t.YNc(55,Xt,15,5,"tr",24),t.qZA(),t.TgZ(56,"tfoot")(57,"tr")(58,"td",25),t._uU(59,"\u0e23\u0e32\u0e04\u0e32\u0e23\u0e27\u0e21"),t.qZA(),t.TgZ(60,"td",26),t._uU(61),t.qZA(),t._UZ(62,"td"),t.qZA()()()(),t.TgZ(63,"div")(64,"button",27),t._uU(65,"\u0e22\u0e49\u0e2d\u0e19\u0e01\u0e25\u0e31\u0e1a"),t.qZA(),t.TgZ(66,"button",10),t._uU(67,"\u0e15\u0e48\u0e2d\u0e44\u0e1b"),t.qZA()()()(),t.TgZ(68,"mat-step",5)(69,"form",6),t.YNc(70,te,1,0,"ng-template",7),t.TgZ(71,"div",11)(72,"div",12),t._UZ(73,"input",28),t.qZA(),t.TgZ(74,"div",12),t._UZ(75,"input",29),t.qZA()(),t.TgZ(76,"div",11)(77,"div",12)(78,"label",30)(79,"input",31),t.NdJ("change",function(){return n.paymentTypeChange()}),t.qZA(),t.TgZ(80,"span"),t._uU(81," \u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14"),t.qZA()()(),t.TgZ(82,"div",12)(83,"label",30)(84,"input",32),t.NdJ("change",function(){return n.paymentTypeChange()}),t.qZA(),t.TgZ(85,"span"),t._uU(86," \u0e42\u0e2d\u0e19\u0e40\u0e07\u0e34\u0e19"),t.qZA()()()(),t._UZ(87,"br"),t.YNc(88,ee,2,0,"div",21),t.YNc(89,re,11,0,"div",21),t._UZ(90,"br"),t.TgZ(91,"div",11)(92,"div",12)(93,"div",33)(94,"input",34),t.NdJ("change",function(){return n.checkStatus()}),t.qZA(),t.TgZ(95,"label",35),t._uU(96," \u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22 "),t.qZA()()()(),t._UZ(97,"br"),t.TgZ(98,"div")(99,"button",27),t._uU(100,"\u0e22\u0e49\u0e2d\u0e19\u0e01\u0e25\u0e31\u0e1a"),t.qZA(),t.TgZ(101,"button",36),t.NdJ("click",function(){return n.createOrder()}),t._uU(102,"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"),t.qZA()()()()()()()),2&e&&(t.xp6(4),t.Q6J("linear",!0)("animationDuration",900),t.xp6(2),t.Q6J("stepControl",n.customerForm),t.xp6(1),t.Q6J("formGroup",n.customerForm),t.xp6(3),t.Q6J("ngForOf",n.customers),t.xp6(5),t.Q6J("stepControl",n.orderForm),t.xp6(1),t.Q6J("formGroup",n.orderForm),t.xp6(7),t.Q6J("ngForOf",n.shops),t.xp6(6),t.Q6J("ngForOf",n.types),t.xp6(6),t.Q6J("ngForOf",n.procucts),t.xp6(1),t.Q6J("ngIf",n.orderForm.get("product").value),t.xp6(1),t.Q6J("ngIf",n.orderForm.get("product").value),t.xp6(18),t.Q6J("ngForOf",n.orders),t.xp6(6),t.Oqu(n.getTotal()),t.xp6(7),t.Q6J("stepControl",n.paymentForm),t.xp6(1),t.Q6J("formGroup",n.paymentForm),t.xp6(6),t.s9C("value",n.getTotal()),t.xp6(13),t.Q6J("ngIf",!n.showCash),t.xp6(1),t.Q6J("ngIf",n.showCash),t.xp6(12),t.Q6J("disabled",!n.paymentForm.valid))},dependencies:[d.sg,d.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l._,l.JJ,l.JL,l.sg,l.u,O.lW,lt,J,pt,Ht,Jt],styles:[".mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:16px}button[_ngcontent-%COMP%]{margin:2px}img[_ngcontent-%COMP%]{width:100px;height:100px}.qrpayment[_ngcontent-%COMP%]{width:100;height:150}th[_ngcontent-%COMP%]{text-align:center}tfoot[_ngcontent-%COMP%]{font-weight:700}"]}),r})();function oe(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"th",14),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"button",15),t.NdJ("click",function(){const u=t.CHM(e).$implicit,f=t.oxw();return t.KtG(f.setActiveOrder(u))}),t._uU(15," \u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14 "),t.qZA()()()}if(2&r){const e=i.$implicit,n=i.index,a=t.oxw();t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.customer.customer.name),t.xp6(2),t.Oqu(e.createTime),t.xp6(2),t.Oqu(e.createBy.displayName),t.xp6(2),t.Oqu(e.total),t.xp6(2),t.Oqu(a.getPaymentType(e.payment.type))}}const ie=function(){return["/order/add"]};let dt=(()=>{class r{constructor(e,n,a,u,f){this.router=e,this.orderService=n,this.walletService=a,this.fb=u,this.datepipe=f,this.currentWallet=new b,this.historyWallet=new b}ngOnInit(){this.fillterForm=this.fb.group({date:[this.datepipe.transform(new Date,"yyyy-MM-dd")]}),this.retrieveOrderHistory(),this.retrieveWallet()}retrieveWallet(){this.walletService.getAll().snapshotChanges().pipe((0,p.U)(e=>e.map(n=>({key:n.payload.key,...n.payload.val()})))).subscribe(e=>{this.currentWallet=e[0],console.log("currentWallet",this.currentWallet)})}retrieveOrderHistory(){let e=this.fillterForm.get("date").value;console.log(e),this.orderService.getAll(e).snapshotChanges().pipe((0,p.U)(n=>n.map(a=>({key:a.payload.key,...a.payload.val()})))).subscribe(n=>{console.log("orderHistorys",n),this.orderHistorys=n,this.setHistoryWallet()})}setHistoryWallet(){this.historyWallet=new b,this.historyWallet.balance=0,this.historyWallet.transfer=0,this.historyWallet.cash=0;for(let e of this.orderHistorys)console.log(this.historyWallet),this.historyWallet.balance=this.historyWallet.balance+e.total,"cash"==e.payment.type?this.historyWallet.cash=this.historyWallet.cash+e.total:this.historyWallet.transfer=this.historyWallet.transfer+e.total}getPaymentType(e){return"cash"==e?"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14":"\u0e42\u0e2d\u0e19\u0e40\u0e07\u0e34\u0e19"}dateChange(){console.log(this.fillterForm.value),this.retrieveOrderHistory()}setActiveOrder(e){this.orderService.setCurrentOrderHistory(e),this.router.navigate(["/order/detail"])}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(o.F0),t.Y36(U),t.Y36(C.X),t.Y36(l.qu),t.Y36(d.uU))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-list"]],decls:51,vars:11,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"card-footer","text-muted"],["mat-flat-button","","color","warn"],["mat-flat-button","","color","primary","routerLinkActive","active",3,"routerLink"],[1,"row","g-2"],[1,"col-auto"],[3,"formGroup"],["type","date","formControlName","date",3,"change"],[1,"table","table-striped","table-bordered","table-hover","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-sm","btn-primary",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),t._uU(3),t.qZA()(),t.TgZ(4,"div",3)(5,"h4",2),t._uU(6),t.qZA(),t.TgZ(7,"h4",2),t._uU(8),t.qZA(),t.TgZ(9,"h4",2),t._uU(10),t.qZA()(),t.TgZ(11,"div",4)(12,"button",5),t._uU(13,"\u0e1b\u0e34\u0e14\u0e22\u0e2d\u0e14"),t.qZA(),t.TgZ(14,"button",6),t._uU(15,"\u0e23\u0e31\u0e1a\u0e2d\u0e2d\u0e40\u0e14\u0e2d\u0e23\u0e4c"),t.qZA()()(),t._UZ(16,"br"),t.TgZ(17,"div",0)(18,"div",1)(19,"div",7)(20,"div",8)(21,"h4",2),t._uU(22,"\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23\u0e02\u0e32\u0e22"),t.qZA()()()(),t.TgZ(23,"div",3)(24,"form",9)(25,"input",10),t.NdJ("change",function(){return n.dateChange()}),t.qZA()(),t._UZ(26,"br"),t.TgZ(27,"h4",2),t._uU(28),t.qZA(),t.TgZ(29,"h4",2),t._uU(30),t.qZA(),t.TgZ(31,"h4",2),t._uU(32),t.qZA(),t.TgZ(33,"table",11)(34,"thead")(35,"tr")(36,"th",12),t._uU(37,"\u0e25\u0e33\u0e14\u0e31\u0e1a"),t.qZA(),t.TgZ(38,"th",12),t._uU(39,"\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32"),t.qZA(),t.TgZ(40,"th",12),t._uU(41,"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 \u0e40\u0e27\u0e25\u0e32"),t.qZA(),t.TgZ(42,"th",12),t._uU(43,"\u0e1c\u0e39\u0e49\u0e02\u0e32\u0e22"),t.qZA(),t.TgZ(44,"th",12),t._uU(45,"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e40\u0e07\u0e34\u0e19"),t.qZA(),t.TgZ(46,"th",12),t._uU(47,"\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30"),t.qZA(),t._UZ(48,"th",12),t.qZA()(),t.TgZ(49,"tbody"),t.YNc(50,oe,16,6,"tr",13),t.qZA()()()()),2&e&&(t.xp6(3),t.hij("\u0e22\u0e2d\u0e14\u0e40\u0e07\u0e34\u0e19\u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19(\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14) ",n.currentWallet.drawer,""),t.xp6(3),t.hij("\u0e22\u0e2d\u0e14\u0e02\u0e32\u0e22 : ",n.currentWallet.cash,""),t.xp6(2),t.hij("\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14 : ",n.currentWallet.cash,""),t.xp6(2),t.hij("\u0e40\u0e07\u0e34\u0e19\u0e42\u0e2d\u0e19 : ",n.currentWallet.transfer,""),t.xp6(4),t.Q6J("routerLink",t.DdM(10,ie)),t.xp6(10),t.Q6J("formGroup",n.fillterForm),t.xp6(4),t.hij("\u0e22\u0e2d\u0e14\u0e02\u0e32\u0e22 : ",n.historyWallet.balance,""),t.xp6(2),t.hij("\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14 : ",n.historyWallet.cash,""),t.xp6(2),t.hij("\u0e40\u0e07\u0e34\u0e19\u0e42\u0e2d\u0e19 : ",n.historyWallet.transfer,""),t.xp6(18),t.Q6J("ngForOf",n.orderHistorys))},dependencies:[d.sg,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,O.lW,o.rH,o.Od],styles:["button[_ngcontent-%COMP%]{margin:2px}"]}),r})();function ae(r,i){if(1&r&&(t.TgZ(0,"tr")(1,"td",4),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",6),t._UZ(5,"img",7),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td",4),t._uU(9),t.qZA(),t.TgZ(10,"td",4),t._uU(11),t.qZA()()),2&r){const e=i.$implicit,n=i.index;t.xp6(2),t.Oqu(n+1),t.xp6(3),t.s9C("src",e.product.image,t.LSH),t.xp6(2),t.Oqu(e.product.title),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(e.total)}}function se(r,i){if(1&r&&(t.TgZ(0,"tbody"),t.YNc(1,ae,12,5,"tr",5),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.orders)}}const le=[{path:"",component:E.$,children:[{path:"",component:dt},{path:"add",component:ne},{path:"list",component:dt},{path:"detail",component:(()=>{class r{constructor(e,n){this.router=e,this.orderService=n}ngOnInit(){this.orderService.getCurrentOrderHistory()?(this.currentOrderHistory=this.orderService.getCurrentOrderHistory(),console.log("currentOrderHistory",this.currentOrderHistory),this.orders=this.currentOrderHistory.orders,this.customer=this.currentOrderHistory.customer.customer):this.goToDashboard()}goToDashboard(){this.router.navigate(["/order/"])}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(o.F0),t.Y36(U))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-detail"]],decls:23,vars:3,consts:[[1,"table","table-striped","table-bordered","table-hover","table-responsive"],["scope","col"],[4,"ngIf"],["colspan","4",2,"text-align","center"],[2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"rounded",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"table",0)(4,"thead")(5,"tr")(6,"th",1),t._uU(7,"\u0e25\u0e33\u0e14\u0e31\u0e1a"),t.qZA(),t.TgZ(8,"th",1),t._uU(9,"\u0e23\u0e39\u0e1b\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"),t.qZA(),t.TgZ(10,"th",1),t._uU(11,"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"),t.qZA(),t.TgZ(12,"th",1),t._uU(13,"\u0e08\u0e33\u0e19\u0e27\u0e19"),t.qZA(),t.TgZ(14,"th",1),t._uU(15,"\u0e23\u0e32\u0e04\u0e32"),t.qZA()()(),t.YNc(16,se,2,1,"tbody",2),t.TgZ(17,"tfoot")(18,"tr")(19,"td",3),t._uU(20,"\u0e23\u0e32\u0e04\u0e32\u0e23\u0e27\u0e21"),t.qZA(),t.TgZ(21,"td",4),t._uU(22),t.qZA()()()()()),2&e&&(t.xp6(2),t.hij("\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32 : ",n.customer.name,""),t.xp6(14),t.Q6J("ngIf",n.orders),t.xp6(6),t.Oqu(n.currentOrderHistory.total))},dependencies:[d.sg,d.O5],styles:[".mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:16px}button[_ngcontent-%COMP%]{margin:2px}img[_ngcontent-%COMP%]{width:100px;height:100px}.qrpayment[_ngcontent-%COMP%]{width:100;height:150}th[_ngcontent-%COMP%]{text-align:center}tfoot[_ngcontent-%COMP%]{font-weight:700}"]}),r})()}]}];let pe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[o.Bz.forChild(le),o.Bz]}),r})();var de=s(9549),ce=s(4144);let he=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[d.ez,D.m,pe,O.ot,Qt,l.u5,l.UX,de.lN,ce.c]}),r})()},6797:(tt,Z,s)=>{s.d(Z,{$:()=>X});var d=s(5963),D=s(727),o=s(4650),E=s(2289),l=s(4649),p=s(263),B=s(7574),I=s(6159),b=s(6895),t=s(3267),Y=s(7392),z=s(3683),W=s(4859),A=s(6338),G=s(3238),V=s(4850),U=s(3162),C=s(8255),O=s(266),F=s(2673),L=s(5829);function q(y,m){1&y&&o._UZ(0,"mat-progress-bar",24)}const v=function(){return["/"]},P=function(){return["/account/profile"]},N=function(){return["/auth/login"]},k=function(){return["/accounts/accounts-daily"]},K=function(){return["/rent"]},S=function(){return["/report/inout-weekly"]},T=function(){return["/accounts/expense"]},j=function(){return["/lots"]},$=function(){return["/shop"]},R=function(){return["/product/type/list"]},H=function(){return["/product"]};let X=(()=>{class y{constructor(g,h,_,M,w){this.changeDetectorRef=g,this.media=h,this.spinnerService=_,this.authService=M,this.authGuard=w,this.showSpinner=!1,this.userName="",this.isAdmin=!1,this.autoLogoutSubscription=new D.w0,this.mobileQuery=this.media.matchMedia("(max-width: 1000px)"),this._mobileQueryListener=()=>g.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){const g=this.authService.getCurrentUser();this.isAdmin=!0,this.userName=g.displayName;const h=(0,d.H)(2e3,5e3);this.autoLogoutSubscription=h.subscribe(()=>{this.authGuard.canActivate()})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener),this.autoLogoutSubscription.unsubscribe()}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}}return y.\u0275fac=function(g){return new(g||y)(o.Y36(o.sBO),o.Y36(E.vx),o.Y36(l.V),o.Y36(p.$),o.Y36(B.a))},y.\u0275cmp=o.Xpm({type:y,selectors:[["app-layout"]],decls:93,vars:37,consts:[[1,"navbar-container"],["color","primary",1,"navbar"],["mat-icon-button","",3,"click"],["matTooltip","Home",1,"navbar-brand",3,"routerLink"],[1,"navbar-spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["matBadge","","matBadgeColor","accent"],["xPosition","before","yPosition","above",3,"overlapTrigger"],["notificationMenu","matMenu"],["mat-button","",3,"matMenuTriggerFor"],["fxShow","","fxHide.xs",""],["userMenu","matMenu"],["mat-menu-item","",3,"routerLink"],[1,"navbar-sidenav-container"],["fixedTopGap","56",1,"sidenav",3,"opened","mode","fixedInViewport"],["snav",""],["mat-subheader",""],["mat-list-item","","routerLinkActive","active",3,"routerLink"],["mat-list-icon",""],["mat-line",""],["id","push-bottom","mat-list-item","","routerLinkActive","active",3,"routerLink"],[1,"sidenav-content"],[1,"progress-bar-container"],["color","accent","mode","indeterminate",4,"ngIf"],["color","accent","mode","indeterminate"]],template:function(g,h){if(1&g){const _=o.EpF();o.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),o.NdJ("click",function(){o.CHM(_);const w=o.MAs(33);return o.KtG(w.toggle())}),o.TgZ(3,"mat-icon"),o._uU(4,"menu"),o.qZA()(),o.TgZ(5,"a",3)(6,"h1"),o._uU(7," Ratchadakarn Food Court "),o.qZA()(),o._UZ(8,"span",4),o.TgZ(9,"button",5)(10,"mat-icon",6),o._uU(11,"notifications"),o.qZA()(),o._UZ(12,"mat-menu",7,8),o.TgZ(14,"button",9)(15,"mat-icon"),o._uU(16,"person"),o.qZA(),o.TgZ(17,"span",10),o._uU(18),o.qZA()(),o.TgZ(19,"mat-menu",7,11)(21,"a",12)(22,"mat-icon"),o._uU(23,"person"),o.qZA(),o.TgZ(24,"span"),o._uU(25,"Account"),o.qZA()(),o.TgZ(26,"a",12)(27,"mat-icon"),o._uU(28,"exit_to_app"),o.qZA(),o.TgZ(29,"span"),o._uU(30,"Log out"),o.qZA()()()(),o.TgZ(31,"mat-sidenav-container",13)(32,"mat-sidenav",14,15)(34,"mat-nav-list")(35,"h3",16),o._uU(36,"Home"),o.qZA(),o.TgZ(37,"a",17)(38,"mat-icon",18),o._uU(39," dvr "),o.qZA(),o.TgZ(40,"p",19),o._uU(41,"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e23\u0e32\u0e22\u0e27\u0e31\u0e19 "),o.qZA()(),o.TgZ(42,"a",17)(43,"mat-icon",18),o._uU(44," dvr "),o.qZA(),o.TgZ(45,"p",19),o._uU(46,"\u0e04\u0e48\u0e32\u0e40\u0e0a\u0e48\u0e32 "),o.qZA()(),o.TgZ(47,"mat-nav-list")(48,"h3",16),o._uU(49,"Report"),o.qZA(),o.TgZ(50,"a",17)(51,"mat-icon",18),o._uU(52," dvr "),o.qZA(),o.TgZ(53,"p",19),o._uU(54,"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14\u0e23\u0e31\u0e1a\u0e08\u0e48\u0e32\u0e22 "),o.qZA()()(),o._UZ(55,"mat-divider"),o.TgZ(56,"h3",16),o._uU(57,"Setting"),o.qZA(),o.TgZ(58,"a",17)(59,"mat-icon",18),o._uU(60," toc "),o.qZA(),o.TgZ(61,"p",19),o._uU(62," \u0e04\u0e48\u0e32\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22 "),o.qZA()(),o.TgZ(63,"a",17)(64,"mat-icon",18),o._uU(65," build "),o.qZA(),o.TgZ(66,"p",19),o._uU(67,"\u0e25\u0e47\u0e2d\u0e04\u0e43\u0e2b\u0e49\u0e40\u0e0a\u0e48\u0e32"),o.qZA()(),o.TgZ(68,"a",17)(69,"mat-icon",18),o._uU(70," restaurant "),o.qZA(),o.TgZ(71,"p",19),o._uU(72," \u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32 "),o.qZA()(),o.TgZ(73,"a",17)(74,"mat-icon",18),o._uU(75," source "),o.qZA(),o.TgZ(76,"p",19),o._uU(77," \u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 "),o.qZA()(),o.TgZ(78,"a",17)(79,"mat-icon",18),o._uU(80," kitchen "),o.qZA(),o.TgZ(81,"p",19),o._uU(82," \u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 "),o.qZA()(),o.TgZ(83,"a",20)(84,"mat-icon",18),o._uU(85," exit_to_app "),o.qZA(),o.TgZ(86,"p",19),o._uU(87," \u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a "),o.qZA()()()(),o.TgZ(88,"mat-sidenav-content",21)(89,"div",22),o.YNc(90,q,1,0,"mat-progress-bar",23),o.ALo(91,"async"),o.qZA(),o._UZ(92,"router-outlet"),o.qZA()()()}if(2&g){const _=o.MAs(13),M=o.MAs(20);o.ekj("example-is-mobile",h.mobileQuery.matches),o.xp6(5),o.Q6J("routerLink",o.DdM(25,v)),o.xp6(4),o.Q6J("matMenuTriggerFor",_),o.xp6(3),o.Q6J("overlapTrigger",!1),o.xp6(2),o.Q6J("matMenuTriggerFor",M),o.xp6(4),o.hij(" ",h.userName," "),o.xp6(1),o.Q6J("overlapTrigger",!1),o.xp6(2),o.Q6J("routerLink",o.DdM(26,P)),o.xp6(5),o.Q6J("routerLink",o.DdM(27,N)),o.xp6(6),o.Q6J("opened",!h.mobileQuery.matches)("mode",h.mobileQuery.matches?"over":"side")("fixedInViewport",h.mobileQuery.matches),o.xp6(5),o.Q6J("routerLink",o.DdM(28,k)),o.xp6(5),o.Q6J("routerLink",o.DdM(29,K)),o.xp6(8),o.Q6J("routerLink",o.DdM(30,S)),o.xp6(8),o.Q6J("routerLink",o.DdM(31,T)),o.xp6(5),o.Q6J("routerLink",o.DdM(32,j)),o.xp6(5),o.Q6J("routerLink",o.DdM(33,$)),o.xp6(5),o.Q6J("routerLink",o.DdM(34,R)),o.xp6(5),o.Q6J("routerLink",o.DdM(35,H)),o.xp6(5),o.Q6J("routerLink",o.DdM(36,N)),o.xp6(7),o.Q6J("ngIf",o.lcZ(91,23,h.spinnerService.visibility))}},dependencies:[I.lC,I.yS,I.Od,b.O5,t.JX,t.TM,t.Rh,Y.Hw,z.Ye,W.lW,A.Hk,A.Tg,G.X2,A.Nh,A.gs,V.d,U.pW,C.VK,C.OP,C.p6,O.gM,F.k,L.b8,b.Ov],styles:[".navbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.navbar[_ngcontent-%COMP%]{z-index:2}.navbar-brand[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.navbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.navbar-is-mobile[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{position:fixed;z-index:2}.navbar-sidenav-container[_ngcontent-%COMP%]{flex:1}.navbar-is-mobile[_ngcontent-%COMP%]   .navbar-sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}mat-sidenav[_ngcontent-%COMP%]{min-width:180px!important;border-right:1px solid #eee;box-shadow:6px 0 6px #0000001a}.progress-bar-container[_ngcontent-%COMP%]{height:5px}a.mat-list-item.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}#push-bottom[_ngcontent-%COMP%]{position:absolute;bottom:0}"]}),y})()}}]);