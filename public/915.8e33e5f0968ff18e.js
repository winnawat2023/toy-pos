"use strict";(self.webpackChunkangular_material_template=self.webpackChunkangular_material_template||[]).push([[915],{3915:(I,Z,u)=>{u.r(Z),u.d(Z,{ReportModule:()=>C});var E=u(6895),v=u(3927),o=u(6159),O=u(6797),U=u(4004),t=u(4650),M=u(9598),s=u(4006),A=u(5829);function d(n,r){if(1&n&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.payment_name)}}const p=function(n,r){return{staffInput:n,overspend:r}};function y(n,r){if(1&n&&(t.TgZ(0,"tr",18)(1,"td",12),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",19),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td",19),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td",20),t._uU(22),t.qZA(),t.TgZ(23,"td",21),t._uU(24),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.Oqu(e.date),t.xp6(2),t.Oqu(e.income_cash),t.xp6(2),t.Oqu(e.income_transfer),t.xp6(2),t.Oqu(e.income_total),t.xp6(2),t.Oqu(e.total_outcome_cash),t.xp6(2),t.Oqu(e.total_outcome_transfer),t.xp6(2),t.Oqu(e.total_outcome_bag),t.xp6(2),t.Oqu(e.total_outcome_credit),t.xp6(2),t.Oqu(e.total_outcome),t.xp6(2),t.Oqu(e.wallet),t.xp6(1),t.Q6J("ngClass",t.WLB(14,p,e.income_cash+(e.income_transfer-e.total_outcome_food)-e.sale_total>=0,e.income_cash+(e.income_transfer-e.total_outcome_food)-e.sale_total<0)),t.xp6(1),t.Oqu(e.income_cash+(e.income_transfer-e.total_outcome_food)-e.sale_total),t.xp6(1),t.Q6J("ngClass",t.WLB(17,p,e.income_total-e.total_outcome>=0,e.income_total-e.total_outcome<0)),t.xp6(1),t.Oqu(e.income_total-e.total_outcome)}}function x(n,r){if(1&n&&(t.TgZ(0,"tfoot")(1,"tr",22)(2,"td",12),t._uU(3,"\u0e23\u0e27\u0e21\u0e23\u0e32\u0e22\u0e23\u0e31\u0e1a"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA(),t.TgZ(24,"td",20),t._uU(25),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(e.income_cash),t.xp6(2),t.Oqu(e.income_transfer),t.xp6(2),t.Oqu(e.income_total),t.xp6(2),t.Oqu(e.total_outcome_cash),t.xp6(2),t.Oqu(e.total_outcome_transfer),t.xp6(2),t.Oqu(e.total_outcome_bag),t.xp6(2),t.Oqu(e.total_outcome_credit),t.xp6(2),t.Oqu(e.total_outcome),t.xp6(2),t.Oqu(e.total_wallet),t.xp6(2),t.Oqu(e.total_shortOver),t.xp6(1),t.Q6J("ngClass",t.WLB(12,p,e.income_total-e.total_outcome>=0,e.income_total-e.total_outcome<0)),t.xp6(1),t.Oqu(e.income_total-e.total_outcome)}}let m=(()=>{class n{constructor(e,i,c){this.accountService=e,this.fb=i,this.datepipe=c,this.income_cash=0,this.income_transfer=0,this.income_total=0,this.total_outcome_cash=0,this.total_outcome_transfer=0,this.total_outcome_bag=0,this.total_outcome_credit=0,this.total_outcome=0,this.total_wallet=0,this.total_shortOver=0}ngOnInit(){this.paymentType=this.accountService.paymentTypes,this.createForm()}createForm(){this.fillterForm=this.fb.group({startDate:[this.datepipe.transform(new Date,"yyyy-MM-dd")],endDate:[this.datepipe.transform(new Date,"yyyy-MM-dd")]})}onSearch(){this.income_cash=0,this.income_transfer=0,this.income_total=0,this.total_outcome_cash=0,this.total_outcome_transfer=0,this.total_outcome_bag=0,this.total_outcome_credit=0,this.total_outcome=0,this.total_wallet=0,this.total_shortOver=0,this.retrieveAccountDaily()}retrieveAccountDaily(){this.dailyAccount=[],console.log("retrieveAccountDaily",this.fillterForm.value);let e=this.fillterForm.get("startDate").value,i=this.fillterForm.get("endDate").value;this.accountService.getReportDailyAccount(e,i).snapshotChanges().pipe((0,U.U)(c=>c.map(a=>({key:a.payload.key,...a.payload.val()})))).subscribe(c=>{if(console.log("dailyAccount",c),c.length>0){this.dailyAccount=c;for(let a of this.dailyAccount){this.income_cash=this.income_cash+a.income_cash,this.income_transfer=this.income_transfer+a.income_transfer,this.income_total=this.income_total+a.income_total,this.total_outcome_cash=this.total_outcome_cash+a.total_outcome_cash,this.total_outcome_transfer=this.total_outcome_transfer+a.total_outcome_transfer,this.total_outcome_bag=this.total_outcome_bag+a.total_outcome_bag,this.total_outcome_credit=this.total_outcome_credit+a.total_outcome_credit,this.total_outcome=this.total_outcome+a.total_outcome,this.total_wallet=a.wallet+this.total_wallet;for(let f of a.outcomes)"2"==f.payment_type.payment_id&&(this.total_wallet=this.total_wallet-f.outcome_total);this.total_shortOver=this.total_shortOver+(a.income_cash+(a.income_transfer-a.total_outcome_food)-a.sale_total)}}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.i),t.Y36(s.qu),t.Y36(E.uU))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-inout-weekly"]],decls:48,vars:4,consts:[[1,"card"],[1,"card-header"],[3,"formGroup"],[1,"row"],[1,"col-auto"],[1,"card-title"],["for","startDate"],["type","date","formControlName","startDate",3,"change"],["for","endDate"],["type","date","formControlName","endDate",3,"change"],[1,"card-body"],[1,"table","table-striped","table-bordered","table-hover","table-responsive"],[2,"text-align","center"],["colspan","3"],["colspan","5"],[4,"ngFor","ngForOf"],["style","text-align: right;",4,"ngFor","ngForOf"],[4,"ngIf"],[2,"text-align","right"],[2,"font-weight","bold"],[3,"ngClass"],[2,"font-weight","bold",3,"ngClass"],[2,"text-align","right","font-weight","bold"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"h4",5),t._uU(6,"\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14\u0e23\u0e31\u0e1a-\u0e08\u0e48\u0e32\u0e22"),t.qZA()(),t.TgZ(7,"div",4)(8,"label",6),t._uU(9,"\u0e27\u0e31\u0e19\u0e40\u0e23\u0e48\u0e34\u0e21\u0e15\u0e49\u0e19"),t.qZA(),t.TgZ(10,"input",7),t.NdJ("change",function(){return i.onSearch()}),t.qZA()(),t.TgZ(11,"div",4)(12,"label",8),t._uU(13,"\u0e27\u0e31\u0e19\u0e2a\u0e34\u0e49\u0e19\u0e2a\u0e38\u0e14"),t.qZA(),t.TgZ(14,"input",9),t.NdJ("change",function(){return i.onSearch()}),t.qZA()()()()(),t.TgZ(15,"div",10)(16,"table",11)(17,"thead",12)(18,"tr")(19,"th"),t._uU(20,"\u0e27\u0e31\u0e19\u0e40\u0e14\u0e37\u0e2d\u0e19\u0e1b\u0e35"),t.qZA(),t.TgZ(21,"th",13),t._uU(22,"\u0e23\u0e32\u0e22\u0e23\u0e31\u0e1a"),t.qZA(),t.TgZ(23,"th",14),t._uU(24,"\u0e23\u0e32\u0e22\u0e08\u0e48\u0e32\u0e22"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"\u0e40\u0e07\u0e34\u0e19\u0e40\u0e02\u0e49\u0e32\u0e01\u0e23\u0e30\u0e40\u0e1b\u0e4b\u0e32"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"\u0e40\u0e07\u0e34\u0e19\u0e02\u0e32\u0e14\u0e40\u0e01\u0e34\u0e19"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14\u0e2a\u0e38\u0e17\u0e18\u0e34"),t.qZA()(),t.TgZ(31,"tr"),t._UZ(32,"th"),t.TgZ(33,"th"),t._uU(34,"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14"),t.qZA(),t.TgZ(35,"th"),t._uU(36,"\u0e40\u0e07\u0e34\u0e19\u0e42\u0e2d\u0e19"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"\u0e23\u0e27\u0e21\u0e23\u0e32\u0e22\u0e23\u0e31\u0e1a"),t.qZA(),t.YNc(39,d,2,1,"th",15),t.TgZ(40,"th"),t._uU(41,"\u0e23\u0e27\u0e21\u0e23\u0e32\u0e22\u0e08\u0e48\u0e32\u0e22"),t.qZA(),t._UZ(42,"th")(43,"th")(44,"th"),t.qZA()(),t.TgZ(45,"tbody"),t.YNc(46,y,25,20,"tr",16),t.qZA(),t.YNc(47,x,26,15,"tfoot",17),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",i.fillterForm),t.xp6(37),t.Q6J("ngForOf",i.paymentType),t.xp6(7),t.Q6J("ngForOf",i.dailyAccount),t.xp6(1),t.Q6J("ngIf",i.dailyAccount))},dependencies:[E.mk,E.sg,E.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,A.oO],styles:[".overspend[_ngcontent-%COMP%]{color:red}.staffInput[_ngcontent-%COMP%]{color:green}"]}),n})();const D=[{path:"",component:O.$,children:[{path:"",component:m},{path:"inout-weekly",component:m}]}];let q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[o.Bz.forChild(D),o.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[E.ez,v.m,q]}),n})()},6797:(I,Z,u)=>{u.d(Z,{$:()=>k});var E=u(5963),v=u(727),o=u(4650),O=u(2289),U=u(4649),t=u(263),M=u(7574),s=u(6159),A=u(6895),d=u(3267),p=u(7392),y=u(3683),x=u(4859),m=u(6338),D=u(3238),q=u(4850),C=u(3162),n=u(8255),r=u(266),e=u(2673),i=u(5829);function c(g,b){1&g&&o._UZ(0,"mat-progress-bar",24)}const a=function(){return["/"]},f=function(){return["/account/profile"]},L=function(){return["/auth/login"]},B=function(){return["/accounts/accounts-daily"]},R=function(){return["/rent"]},Q=function(){return["/report/inout-weekly"]},W=function(){return["/accounts/expense"]},J=function(){return["/lots"]},F=function(){return["/shop"]},K=function(){return["/product/type/list"]},S=function(){return["/product"]};let k=(()=>{class g{constructor(l,_,h,T,P){this.changeDetectorRef=l,this.media=_,this.spinnerService=h,this.authService=T,this.authGuard=P,this.showSpinner=!1,this.userName="",this.isAdmin=!1,this.autoLogoutSubscription=new v.w0,this.mobileQuery=this.media.matchMedia("(max-width: 1000px)"),this._mobileQueryListener=()=>l.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){const l=this.authService.getCurrentUser();this.isAdmin=!0,this.userName=l.displayName;const _=(0,E.H)(2e3,5e3);this.autoLogoutSubscription=_.subscribe(()=>{this.authGuard.canActivate()})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener),this.autoLogoutSubscription.unsubscribe()}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}}return g.\u0275fac=function(l){return new(l||g)(o.Y36(o.sBO),o.Y36(O.vx),o.Y36(U.V),o.Y36(t.$),o.Y36(M.a))},g.\u0275cmp=o.Xpm({type:g,selectors:[["app-layout"]],decls:93,vars:37,consts:[[1,"navbar-container"],["color","primary",1,"navbar"],["mat-icon-button","",3,"click"],["matTooltip","Home",1,"navbar-brand",3,"routerLink"],[1,"navbar-spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["matBadge","","matBadgeColor","accent"],["xPosition","before","yPosition","above",3,"overlapTrigger"],["notificationMenu","matMenu"],["mat-button","",3,"matMenuTriggerFor"],["fxShow","","fxHide.xs",""],["userMenu","matMenu"],["mat-menu-item","",3,"routerLink"],[1,"navbar-sidenav-container"],["fixedTopGap","56",1,"sidenav",3,"opened","mode","fixedInViewport"],["snav",""],["mat-subheader",""],["mat-list-item","","routerLinkActive","active",3,"routerLink"],["mat-list-icon",""],["mat-line",""],["id","push-bottom","mat-list-item","","routerLinkActive","active",3,"routerLink"],[1,"sidenav-content"],[1,"progress-bar-container"],["color","accent","mode","indeterminate",4,"ngIf"],["color","accent","mode","indeterminate"]],template:function(l,_){if(1&l){const h=o.EpF();o.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),o.NdJ("click",function(){o.CHM(h);const P=o.MAs(33);return o.KtG(P.toggle())}),o.TgZ(3,"mat-icon"),o._uU(4,"menu"),o.qZA()(),o.TgZ(5,"a",3)(6,"h1"),o._uU(7," Ratchadakarn Food Court "),o.qZA()(),o._UZ(8,"span",4),o.TgZ(9,"button",5)(10,"mat-icon",6),o._uU(11,"notifications"),o.qZA()(),o._UZ(12,"mat-menu",7,8),o.TgZ(14,"button",9)(15,"mat-icon"),o._uU(16,"person"),o.qZA(),o.TgZ(17,"span",10),o._uU(18),o.qZA()(),o.TgZ(19,"mat-menu",7,11)(21,"a",12)(22,"mat-icon"),o._uU(23,"person"),o.qZA(),o.TgZ(24,"span"),o._uU(25,"Account"),o.qZA()(),o.TgZ(26,"a",12)(27,"mat-icon"),o._uU(28,"exit_to_app"),o.qZA(),o.TgZ(29,"span"),o._uU(30,"Log out"),o.qZA()()()(),o.TgZ(31,"mat-sidenav-container",13)(32,"mat-sidenav",14,15)(34,"mat-nav-list")(35,"h3",16),o._uU(36,"Home"),o.qZA(),o.TgZ(37,"a",17)(38,"mat-icon",18),o._uU(39," dvr "),o.qZA(),o.TgZ(40,"p",19),o._uU(41,"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e23\u0e32\u0e22\u0e27\u0e31\u0e19 "),o.qZA()(),o.TgZ(42,"a",17)(43,"mat-icon",18),o._uU(44," dvr "),o.qZA(),o.TgZ(45,"p",19),o._uU(46,"\u0e04\u0e48\u0e32\u0e40\u0e0a\u0e48\u0e32 "),o.qZA()(),o.TgZ(47,"mat-nav-list")(48,"h3",16),o._uU(49,"Report"),o.qZA(),o.TgZ(50,"a",17)(51,"mat-icon",18),o._uU(52," dvr "),o.qZA(),o.TgZ(53,"p",19),o._uU(54,"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14\u0e23\u0e31\u0e1a\u0e08\u0e48\u0e32\u0e22 "),o.qZA()()(),o._UZ(55,"mat-divider"),o.TgZ(56,"h3",16),o._uU(57,"Setting"),o.qZA(),o.TgZ(58,"a",17)(59,"mat-icon",18),o._uU(60," toc "),o.qZA(),o.TgZ(61,"p",19),o._uU(62," \u0e04\u0e48\u0e32\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22 "),o.qZA()(),o.TgZ(63,"a",17)(64,"mat-icon",18),o._uU(65," build "),o.qZA(),o.TgZ(66,"p",19),o._uU(67,"\u0e25\u0e47\u0e2d\u0e04\u0e43\u0e2b\u0e49\u0e40\u0e0a\u0e48\u0e32"),o.qZA()(),o.TgZ(68,"a",17)(69,"mat-icon",18),o._uU(70," restaurant "),o.qZA(),o.TgZ(71,"p",19),o._uU(72," \u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32 "),o.qZA()(),o.TgZ(73,"a",17)(74,"mat-icon",18),o._uU(75," source "),o.qZA(),o.TgZ(76,"p",19),o._uU(77," \u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 "),o.qZA()(),o.TgZ(78,"a",17)(79,"mat-icon",18),o._uU(80," kitchen "),o.qZA(),o.TgZ(81,"p",19),o._uU(82," \u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 "),o.qZA()(),o.TgZ(83,"a",20)(84,"mat-icon",18),o._uU(85," exit_to_app "),o.qZA(),o.TgZ(86,"p",19),o._uU(87," \u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a "),o.qZA()()()(),o.TgZ(88,"mat-sidenav-content",21)(89,"div",22),o.YNc(90,c,1,0,"mat-progress-bar",23),o.ALo(91,"async"),o.qZA(),o._UZ(92,"router-outlet"),o.qZA()()()}if(2&l){const h=o.MAs(13),T=o.MAs(20);o.ekj("example-is-mobile",_.mobileQuery.matches),o.xp6(5),o.Q6J("routerLink",o.DdM(25,a)),o.xp6(4),o.Q6J("matMenuTriggerFor",h),o.xp6(3),o.Q6J("overlapTrigger",!1),o.xp6(2),o.Q6J("matMenuTriggerFor",T),o.xp6(4),o.hij(" ",_.userName," "),o.xp6(1),o.Q6J("overlapTrigger",!1),o.xp6(2),o.Q6J("routerLink",o.DdM(26,f)),o.xp6(5),o.Q6J("routerLink",o.DdM(27,L)),o.xp6(6),o.Q6J("opened",!_.mobileQuery.matches)("mode",_.mobileQuery.matches?"over":"side")("fixedInViewport",_.mobileQuery.matches),o.xp6(5),o.Q6J("routerLink",o.DdM(28,B)),o.xp6(5),o.Q6J("routerLink",o.DdM(29,R)),o.xp6(8),o.Q6J("routerLink",o.DdM(30,Q)),o.xp6(8),o.Q6J("routerLink",o.DdM(31,W)),o.xp6(5),o.Q6J("routerLink",o.DdM(32,J)),o.xp6(5),o.Q6J("routerLink",o.DdM(33,F)),o.xp6(5),o.Q6J("routerLink",o.DdM(34,K)),o.xp6(5),o.Q6J("routerLink",o.DdM(35,S)),o.xp6(5),o.Q6J("routerLink",o.DdM(36,L)),o.xp6(7),o.Q6J("ngIf",o.lcZ(91,23,_.spinnerService.visibility))}},dependencies:[s.lC,s.yS,s.Od,A.O5,d.JX,d.TM,d.Rh,p.Hw,y.Ye,x.lW,m.Hk,m.Tg,D.X2,m.Nh,m.gs,q.d,C.pW,n.VK,n.OP,n.p6,r.gM,e.k,i.b8,A.Ov],styles:[".navbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.navbar[_ngcontent-%COMP%]{z-index:2}.navbar-brand[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.navbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.navbar-is-mobile[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{position:fixed;z-index:2}.navbar-sidenav-container[_ngcontent-%COMP%]{flex:1}.navbar-is-mobile[_ngcontent-%COMP%]   .navbar-sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}mat-sidenav[_ngcontent-%COMP%]{min-width:180px!important;border-right:1px solid #eee;box-shadow:6px 0 6px #0000001a}.progress-bar-container[_ngcontent-%COMP%]{height:5px}a.mat-list-item.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}#push-bottom[_ngcontent-%COMP%]{position:absolute;bottom:0}"]}),g})()}}]);